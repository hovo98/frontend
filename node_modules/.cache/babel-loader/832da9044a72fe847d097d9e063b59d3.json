{"ast":null,"code":"var _jsxFileName = \"/root/dex/frontend/src/component/Orderhistory.js\",\n    _s = $RefreshSig$();\n\nimport useSharedState from '../hook/useSharedState';\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from \"react\";\nimport { useWeb3React } from '@web3-react/core';\nimport { fixedLength, adjustDate } from \"./common\";\nimport { ERC20_ABI } from \"../abi/ERC20\";\nimport { WETH, limitOrder } from \"./const\";\nimport { getContract } from \"./contract\";\nimport { LIMIT_ABI } from \"../abi/LIMIT\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Orderhistory() {\n  _s();\n\n  const {\n    selectedToken,\n    setSelectedToken,\n    bnbPrice,\n    tokensList\n  } = useSharedState(); //useState(undefined);\n\n  const {\n    chainId,\n    account,\n    activate,\n    active,\n    library\n  } = useWeb3React();\n  const [openOrders, setOpenOrders] = useState([]);\n  const [orderHistories, setOrderHistories] = useState([]);\n  const [tradeHistories, setTradeHistories] = useState([]);\n  const [balances, setBalances] = useState([]);\n  const [totalBnbBalance, setTotalBnbBalance] = useState(0);\n  const [timespanOrder, setTimespanOrder] = useState(3600 * 24 * 30);\n  const [timespanTrade, setTimespanTrade] = useState(3600 * 24 * 30);\n  const [busellFilter, setBuysellFilter] = useState(0);\n  const [hideOthersOpen, setHideOthersOpen] = useState(false);\n  const [hideOthersOrder, setHideOthersOrder] = useState(false);\n  const [hideOthersTrade, setHideOthersTrade] = useState(false);\n  const selectedTokenRef = useRef();\n  const accountRef = useRef();\n  const intervalRef = useRef();\n  const prefix = window.location.protocol + \"//\" + window.location.hostname;\n\n  const limitTx = tx => {\n    return tx.substring(0, 5) + \"...\" + tx.substring(account.length - 6, account.length);\n  };\n\n  const updateOpenOrder = async () => {\n    const url = prefix + \"/api/getorder?chainid=56&owner=\" + account + \"&openclose=open\";\n    const response = await fetch(url);\n    const rt = await response.json();\n    setOpenOrders(rt);\n  };\n\n  const updateOrderHistories = async () => {\n    const url = prefix + \"/api/getorder?chainid=56&owner=\" + account + \"&ordertype=limit&timestamp=\" + (Date.now() - timespanOrder * 1000);\n    const response = await fetch(url);\n    const rt = await response.json();\n    setOrderHistories(rt);\n  };\n\n  const updateTradeHistories = async () => {\n    const url = prefix + \"/api/getorder?chainid=56&owner=\" + account + \"&openclose=trade&timestamp=\" + (Date.now() - timespanTrade * 1000);\n    const response = await fetch(url);\n    const rt = await response.json();\n    setTradeHistories(rt);\n  };\n\n  const getInAmount = symbol => {\n    let am = 0;\n    openOrders.map(order => {\n      if (order.inAsset == symbol) am = am + order.inAmount;\n    });\n    return am;\n  };\n\n  const updateBalances = async () => {\n    let bl = [];\n    let subBnb = 0;\n    if (!account) return;\n    let ethBalance = Number(await library.getBalance(account));\n    ethBalance = Number(ethBalance / Math.pow(10, WETH.decimals));\n    let inAmount = getInAmount('BNB');\n    let total = inAmount + ethBalance;\n    subBnb = subBnb + total;\n    bl.push({\n      asset: 'BNB',\n      amount: ethBalance,\n      inamount: inAmount,\n      total: total,\n      bnbvalue: total\n    });\n    await Promise.all(tokensList.map(async token => {\n      const contract = getContract(token.address, ERC20_ABI, library, account);\n      let tokenBalance = Number(await contract.balanceOf(account));\n      tokenBalance = tokenBalance / Math.pow(10, selectedToken.info.decimals);\n      inAmount = getInAmount(token.symbol);\n      total = tokenBalance + inAmount;\n      const bnbvalue = token.info.quote == \"BNB\" ? Number(token.priceBNB) * total : total / Number(token.priceBNB);\n      bl.push({\n        asset: token.symbol,\n        amount: tokenBalance,\n        inamount: inAmount,\n        total: total,\n        bnbvalue: bnbvalue\n      });\n      subBnb = subBnb + bnbvalue;\n    }));\n    setTotalBnbBalance(subBnb);\n    setBalances(JSON.parse(JSON.stringify(bl)));\n  };\n\n  const updateAll = async () => {\n    updateOpenOrder();\n    updateOrderHistories();\n    updateTradeHistories();\n    updateBalances();\n  };\n\n  const orderCancel = async orderId => {\n    const limitContract = getContract(limitOrder, LIMIT_ABI, library, account);\n    await limitContract.cancelOrder(orderId);\n  };\n\n  useEffect(() => {\n    if (selectedToken && account) {\n      selectedTokenRef.current = selectedToken;\n      accountRef.current = account;\n\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n\n      updateAll();\n      intervalRef.current = setInterval(() => updateAll(), 10000);\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [selectedToken, account]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-none d-lg-block col-12 col-lg-8 orders-widget\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav nav-pills mb-1\",\n        id: \"pills-tab\",\n        role: \"tablist\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          role: \"presentation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"nav-link bg-transparent active\",\n            id: \"pills-home-tab\",\n            \"data-bs-toggle\": \"pill\",\n            \"data-bs-target\": \"#pills-home\",\n            type: \"button\",\n            role: \"tab\",\n            \"aria-controls\": \"pills-home\",\n            \"aria-selected\": \"true\",\n            children: \"Open Orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          role: \"presentation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"nav-link bg-transparent\",\n            id: \"pills-profile-tab\",\n            \"data-bs-toggle\": \"pill\",\n            \"data-bs-target\": \"#pills-profile\",\n            type: \"button\",\n            role: \"tab\",\n            \"aria-controls\": \"pills-profile\",\n            \"aria-selected\": \"false\",\n            children: \"Order History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          role: \"presentation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"nav-link bg-transparent\",\n            id: \"pills-contact-tab\",\n            \"data-bs-toggle\": \"pill\",\n            \"data-bs-target\": \"#pills-contact\",\n            type: \"button\",\n            role: \"tab\",\n            \"aria-controls\": \"pills-contact\",\n            \"aria-selected\": \"false\",\n            children: \"Trade History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          role: \"presentation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"nav-link bg-transparent\",\n            id: \"pills-balances-tab\",\n            \"data-bs-toggle\": \"pill\",\n            \"data-bs-target\": \"#pills-balances\",\n            type: \"button\",\n            role: \"tab\",\n            \"aria-controls\": \"pills-balances\",\n            \"aria-selected\": \"false\",\n            children: \"Balances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      id: \"pills-tabContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-pane fade show active\",\n        id: \"pills-home\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"pills-home-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-widget__subtoolbar p-1 d-flex justify-content-between align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-check-input custom-checkbox\",\n              type: \"checkbox\",\n              defaultValue: true,\n              id: \"flexCheckDefault\",\n              checked: hideOthersOpen,\n              onClick: () => setHideOthersOpen(!hideOthersOpen)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              htmlFor: \"flexCheckDefault\",\n              children: \"Hide Other Pairs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table text-white table-sm table-borderless\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"TxHash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Pair\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Side\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: openOrders.map((order, idx) => {\n                if (!hideOthersOpen || order.pairs.indexOf(selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.symbol) >= 0) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: limitTx(order.transactionid)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: adjustDate(order.timestamp)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.pairs\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.side\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      role: \"button\",\n                      className: \"text-danger\",\n                      onClick: () => orderCancel(order.orderid),\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 21\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 19\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-pane fade\",\n        id: \"pills-profile\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"pills-profile-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-widget__subtoolbar p-1 d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-check-input custom-checkbox\",\n              type: \"checkbox\",\n              defaultValue: true,\n              id: \"flexCheckDefault\",\n              checked: hideOthersOrder,\n              onClick: () => setHideOthersOrder(!hideOthersOrder)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              htmlFor: \"flexCheckDefault\",\n              children: \"Hide Other Pairs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group btn-group-sm\",\n            role: \"group\",\n            \"aria-label\": \"Basic example\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary me-1\",\n              onClick: () => timespanOrder(24 * 3600),\n              children: \"1 Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary me-1\",\n              onClick: () => timespanOrder(24 * 3600 * 7),\n              children: \"1 Week\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary me-1\",\n              onClick: () => timespanOrder(24 * 3600 * 30),\n              children: \"1 Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary me-1\",\n              onClick: () => timespanOrder(24 * 3600 * 90),\n              children: \"3 Months\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table text-white table-sm table-borderless\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"TxHash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Pair\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Side\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: orderHistories.map((order, idx) => {\n                if (!hideOthersOrder || order.pairs.indexOf(selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.symbol) >= 0) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: limitTx(order.transactionid)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: adjustDate(order.timestamp)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.pairs\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.side\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.orderstatus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 25\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-pane fade\",\n        id: \"pills-contact\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"pills-contact-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-widget__subtoolbar p-1 row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-check-input custom-checkbox\",\n                type: \"checkbox\",\n                defaultValue: true,\n                id: \"flexCheckDefault\",\n                checked: hideOthersTrade,\n                onClick: () => setHideOthersTrade(!hideOthersTrade)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-check-label\",\n                htmlFor: \"flexCheckDefault\",\n                children: \"Hide Other Pairs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10 d-flex align-items-center justify-content-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"me-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"me-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Type: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary btn-sm dropdown-toggle\",\n                  type: \"button\",\n                  id: \"dropdownMenuButton1\",\n                  \"data-bs-toggle\": \"dropdown\",\n                  \"aria-expanded\": \"false\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-success\",\n                    children: \"Buy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 19\n                  }, this), \" &\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger\",\n                    children: \"Sell\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"dropdown-menu dropdown-menu-dark\",\n                  \"aria-labelledby\": \"dropdownMenuButton1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"dropdown-item\",\n                      href: \"#\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-success\",\n                        children: \"Buy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 267,\n                        columnNumber: 23\n                      }, this), \" &\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"Sell\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"dropdown-item\",\n                      href: \"#\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-success\",\n                        children: \"Buy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"dropdown-item\",\n                      href: \"#\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"Sell\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group btn-group-sm\",\n              role: \"group\",\n              \"aria-label\": \"Basic example\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary me-1\",\n                onClick: () => timespanTrade(24 * 3600),\n                children: \"1 Day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary me-1\",\n                onClick: () => timespanTrade(24 * 3600 * 7),\n                children: \"1 Week\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary me-1\",\n                onClick: () => timespanTrade(24 * 3600 * 30),\n                children: \"1 Month\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary me-1\",\n                onClick: () => timespanTrade(24 * 3600 * 93),\n                children: \"3 Months\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table text-white table-sm table-borderless\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Tx\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Pair\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Side\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Filled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: tradeHistories.map((order, idx) => {\n                if (!hideOthersTrade || order.pairs.indexOf(selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.symbol) >= 0) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: limitTx(order.transactionid)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: adjustDate(order.timestamp)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.pairs\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.side\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: order.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: fixedLength(order.price * order.amount)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 25\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 23\n                  }, this);\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-pane fade\",\n        id: \"pills-balances\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"pills-balances-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-widget__subtoolbar p-1 d-flex justify-content-end align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table text-white table-sm table-borderless\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Asset\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Total Balance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Available Balance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"In Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"BNB Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: balances.map((balance, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: balance.asset\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: balance.total\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: balance.amount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: balance.inamount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: balance.bnbvalue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Orderhistory, \"dVa9zLAjSAz7BD0FI/2JtALunec=\", false, function () {\n  return [useSharedState, useWeb3React];\n});\n\n_c = Orderhistory;\nexport default Orderhistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orderhistory\");","map":{"version":3,"sources":["/root/dex/frontend/src/component/Orderhistory.js"],"names":["useSharedState","React","useState","useEffect","useCallback","useMemo","useRef","useWeb3React","fixedLength","adjustDate","ERC20_ABI","WETH","limitOrder","getContract","LIMIT_ABI","Orderhistory","selectedToken","setSelectedToken","bnbPrice","tokensList","chainId","account","activate","active","library","openOrders","setOpenOrders","orderHistories","setOrderHistories","tradeHistories","setTradeHistories","balances","setBalances","totalBnbBalance","setTotalBnbBalance","timespanOrder","setTimespanOrder","timespanTrade","setTimespanTrade","busellFilter","setBuysellFilter","hideOthersOpen","setHideOthersOpen","hideOthersOrder","setHideOthersOrder","hideOthersTrade","setHideOthersTrade","selectedTokenRef","accountRef","intervalRef","prefix","window","location","protocol","hostname","limitTx","tx","substring","length","updateOpenOrder","url","response","fetch","rt","json","updateOrderHistories","Date","now","updateTradeHistories","getInAmount","symbol","am","map","order","inAsset","inAmount","updateBalances","bl","subBnb","ethBalance","Number","getBalance","Math","pow","decimals","total","push","asset","amount","inamount","bnbvalue","Promise","all","token","contract","address","tokenBalance","balanceOf","info","quote","priceBNB","JSON","parse","stringify","updateAll","orderCancel","orderId","limitContract","cancelOrder","current","clearInterval","setInterval","idx","pairs","indexOf","transactionid","timestamp","side","price","orderid","orderstatus","balance"],"mappings":"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","sourcesContent":["import useSharedState from '../hook/useSharedState'\r\nimport React ,{useState,useEffect,useCallback,useMemo,useRef} from \"react\";\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport {fixedLength,adjustDate} from \"./common\"\r\nimport {ERC20_ABI} from \"../abi/ERC20\";\r\nimport { WETH,limitOrder} from \"./const\";\r\nimport {getContract} from \"./contract\";\r\nimport {LIMIT_ABI} from \"../abi/LIMIT\";\r\n\r\nfunction Orderhistory() {\r\n\r\n  const {selectedToken,setSelectedToken,bnbPrice,tokensList}=useSharedState();//useState(undefined);\r\n  const { chainId, account, activate, active,library } = useWeb3React();\r\n  const [openOrders,setOpenOrders] = useState([]);\r\n  const [orderHistories,setOrderHistories] = useState([]);\r\n  const [tradeHistories,setTradeHistories] = useState([]);\r\n  const [balances,setBalances] = useState([]);\r\n  const [totalBnbBalance,setTotalBnbBalance] =useState(0);\r\n  const [timespanOrder,setTimespanOrder]=useState(3600*24*30);\r\n  const [timespanTrade,setTimespanTrade]=useState(3600*24*30);\r\n  const [busellFilter,setBuysellFilter]=useState(0);\r\n  const [hideOthersOpen,setHideOthersOpen]=useState(false);\r\n  const [hideOthersOrder,setHideOthersOrder]=useState(false);\r\n  const [hideOthersTrade,setHideOthersTrade]=useState(false);\r\n  const selectedTokenRef = useRef();\r\n  const accountRef = useRef();\r\n  const intervalRef = useRef();\r\n\r\n  const prefix = window.location.protocol+\"//\"+window.location.hostname;\r\n  const limitTx = (tx)=>{\r\n    return tx.substring(0,5)+\"...\"+tx.substring(account.length-6,account.length)\r\n  }\r\n  const updateOpenOrder = async()=>{\r\n    const url = prefix+\"/api/getorder?chainid=56&owner=\"+account+\"&openclose=open\";\r\n    const response = await fetch(url);\r\n    const rt = await response.json();\r\n    setOpenOrders(rt)\r\n  }\r\n  const updateOrderHistories = async()=>{\r\n    const url = prefix+\"/api/getorder?chainid=56&owner=\"+account+\"&ordertype=limit&timestamp=\"+(Date.now()-timespanOrder*1000);\r\n    const response = await fetch(url);\r\n    const rt = await response.json();\r\n    setOrderHistories(rt)\r\n  }\r\n  const updateTradeHistories = async()=>{\r\n    const url = prefix+\"/api/getorder?chainid=56&owner=\"+account+\"&openclose=trade&timestamp=\"+(Date.now()-timespanTrade*1000);\r\n    const response = await fetch(url);\r\n    const rt = await response.json();\r\n    setTradeHistories(rt)\r\n  }\r\n  const getInAmount = (symbol)=>{\r\n    let am = 0;\r\n    openOrders.map((order)=>{\r\n      if(order.inAsset==symbol) am=am+order.inAmount;\r\n    })\r\n    return am;\r\n  }\r\n  const updateBalances = async()=>{\r\n    let bl = [];\r\n    let subBnb = 0;\r\n    if(!account) return;\r\n    let ethBalance = Number(await library.getBalance(account));\r\n    ethBalance = Number(ethBalance / Math.pow(10,WETH.decimals));\r\n    let inAmount = getInAmount('BNB');\r\n    let total = inAmount+ethBalance;\r\n    subBnb = subBnb+total;\r\n    bl.push({asset:'BNB',amount:ethBalance,inamount:inAmount,total:total,bnbvalue:total});\r\n    await Promise.all(tokensList.map(async(token)=>{\r\n      const contract = getContract(token.address, ERC20_ABI,library,account);\r\n      let tokenBalance = Number(await contract.balanceOf(account));\r\n      tokenBalance=tokenBalance / Math.pow(10,selectedToken.info.decimals);\r\n      inAmount = getInAmount(token.symbol);\r\n      total = tokenBalance+inAmount;\r\n      const bnbvalue = token.info.quote==\"BNB\"? (Number(token.priceBNB)*total):(total/Number(token.priceBNB));\r\n      bl.push({asset:token.symbol,amount:tokenBalance,inamount:inAmount,total:total,bnbvalue:bnbvalue});\r\n      subBnb = subBnb+bnbvalue;\r\n\r\n    }))\r\n    setTotalBnbBalance(subBnb);\r\n    setBalances(JSON.parse(JSON.stringify(bl)));\r\n  }\r\n  const updateAll = async()=>{\r\n    updateOpenOrder();\r\n    updateOrderHistories();\r\n    updateTradeHistories();\r\n    updateBalances();\r\n  }\r\n  const orderCancel = async(orderId)=>{\r\n    const limitContract = getContract(limitOrder, LIMIT_ABI,library,account);\r\n    await limitContract.cancelOrder(orderId);\r\n  }\r\n  useEffect(() => {\r\n    if(selectedToken && account){\r\n        selectedTokenRef.current = selectedToken;\r\n        accountRef.current = account;\r\n        if(intervalRef.current){\r\n            clearInterval(intervalRef.current);\r\n        }\r\n        updateAll();\r\n        intervalRef.current = setInterval(() => updateAll(), 10000);\r\n    }\r\n    return () => {\r\n        if(intervalRef.current){\r\n            clearInterval(intervalRef.current);\r\n        }\r\n    }\r\n  }, [selectedToken,account])\r\n\r\n  return (\r\n  <div className=\"d-none d-lg-block col-12 col-lg-8 orders-widget\">\r\n    <div>\r\n      <ul className=\"nav nav-pills mb-1\" id=\"pills-tab\" role=\"tablist\">\r\n        <li className=\"nav-item\" role=\"presentation\">\r\n          <button className=\"nav-link bg-transparent active\" id=\"pills-home-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-home\" type=\"button\" role=\"tab\" aria-controls=\"pills-home\" aria-selected=\"true\">Open Orders</button>\r\n        </li>\r\n        <li className=\"nav-item\" role=\"presentation\">\r\n          <button className=\"nav-link bg-transparent\" id=\"pills-profile-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-profile\" type=\"button\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"false\">Order History</button>\r\n        </li>\r\n        <li className=\"nav-item\" role=\"presentation\">\r\n          <button className=\"nav-link bg-transparent\" id=\"pills-contact-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-contact\" type=\"button\" role=\"tab\" aria-controls=\"pills-contact\" aria-selected=\"false\">Trade History</button>\r\n        </li>\r\n        <li className=\"nav-item\" role=\"presentation\">\r\n          <button className=\"nav-link bg-transparent\" id=\"pills-balances-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-balances\" type=\"button\" role=\"tab\" aria-controls=\"pills-balances\" aria-selected=\"false\">Balances</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div className=\"tab-content\" id=\"pills-tabContent\">\r\n      <div className=\"tab-pane fade show active\" id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n        <div className=\"orders-widget__subtoolbar p-1 d-flex justify-content-between align-items-center\">\r\n          <div className=\"form-check\">\r\n            <input className=\"form-check-input custom-checkbox\" type=\"checkbox\" defaultValue id=\"flexCheckDefault\"\r\n            checked={hideOthersOpen} onClick={()=>setHideOthersOpen(!hideOthersOpen)}/>\r\n            <label className=\"form-check-label\" htmlFor={\"flexCheckDefault\"}>\r\n              Hide Other Pairs\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table text-white table-sm table-borderless\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">TxHash</th>\r\n                <th scope=\"col\">Date</th>\r\n                <th scope=\"col\">Pair</th>\r\n                <th scope=\"col\">Side</th>\r\n                <th scope=\"col\">Price</th>\r\n                <th scope=\"col\">Amount</th>\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            {openOrders.map((order,idx)=>{\r\n              if (!hideOthersOpen || order.pairs.indexOf(selectedToken?.symbol)>=0){\r\n                return( \r\n                  <tr key={idx}>\r\n                    <td>{limitTx(order.transactionid)}</td>\r\n                    <td>{adjustDate(order.timestamp)}</td>\r\n                    <td>{order.pairs}</td>\r\n                    <td>{order.side}</td>\r\n                    <td>{order.price}</td>\r\n                    <td>{order.amount}</td>\r\n                    <td role=\"button\" className=\"text-danger\" onClick={()=>orderCancel(order.orderid)}>Cancel</td>\r\n                  </tr>\r\n                 )\r\n              }\r\n            })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"tab-pane fade\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n        <div className=\"orders-widget__subtoolbar p-1 d-flex justify-content-between align-items-center\">\r\n          <div className=\"form-check\">\r\n            <input className=\"form-check-input custom-checkbox\" type=\"checkbox\" defaultValue id=\"flexCheckDefault\" \r\n            checked={hideOthersOrder} onClick={()=>setHideOthersOrder(!hideOthersOrder)}/>\r\n            <label className=\"form-check-label\" htmlFor={\"flexCheckDefault\"}>\r\n              Hide Other Pairs\r\n            </label>\r\n          </div>\r\n          <div className=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Basic example\">\r\n            <button type=\"button\" className=\"btn btn-secondary me-1\"  onClick={()=>timespanOrder(24*3600)}>1 Day</button>\r\n            <button type=\"button\" className=\"btn btn-secondary me-1\"  onClick={()=>timespanOrder(24*3600*7)}>1 Week</button>\r\n            <button type=\"button\" className=\"btn btn-secondary me-1\" onClick={()=>timespanOrder(24*3600*30)}>1 Month</button>\r\n            <button type=\"button\" className=\"btn btn-secondary me-1\"  onClick={()=>timespanOrder(24*3600*90)}>3 Months</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table text-white table-sm table-borderless\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">TxHash</th>\r\n                <th scope=\"col\">Date</th>\r\n                <th scope=\"col\">Pair</th>\r\n                <th scope=\"col\">Side</th>\r\n                <th scope=\"col\">Price</th>\r\n                <th scope=\"col\">Amount</th>\r\n                <th scope=\"col\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orderHistories.map((order,idx)=>{\r\n                  if (!hideOthersOrder || order.pairs.indexOf(selectedToken?.symbol)>=0){\r\n                    return (\r\n                      <tr key={idx}>\r\n                        <td>{limitTx(order.transactionid)}</td>\r\n                        <td>{adjustDate(order.timestamp)}</td>\r\n                        <td>{order.pairs}</td>\r\n                        <td>{order.side}</td>\r\n                        <td>{order.price}</td>\r\n                        <td>{order.amount}</td>\r\n                        <td >{order.orderstatus}</td>\r\n                      </tr>\r\n                     )\r\n                  }\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"tab-pane fade\" id=\"pills-contact\" role=\"tabpanel\" aria-labelledby=\"pills-contact-tab\">\r\n        <div className=\"orders-widget__subtoolbar p-1 row\">\r\n          <div className=\"col-2\">\r\n            <div className=\"form-check\">\r\n              <input className=\"form-check-input custom-checkbox\" type=\"checkbox\" defaultValue id=\"flexCheckDefault\" \r\n              checked={hideOthersTrade} onClick={()=>setHideOthersTrade(!hideOthersTrade)}/>\r\n              <label className=\"form-check-label\" htmlFor={\"flexCheckDefault\"}>\r\n                Hide Other Pairs\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-10 d-flex align-items-center justify-content-end\">\r\n            <div className=\"me-1\">\r\n            {/*\r\n              <label >Pair: </label>\r\n              <input type=\"text\" className=\"bg-secondary text-white border-0\" style={{width: '50px'}} placeholder=\"Coin\" />\r\n              <label >/</label>\r\n              <div className=\"btn-group me-2\">\r\n                <button className=\"btn btn-secondary btn-sm dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  BNB\r\n                </button>\r\n                <ul className=\"dropdown-menu dropdown-menu-dark dropdown-menu-end\" aria-labelledby=\"dropdownMenuButton1\">\r\n                  <li><a className=\"dropdown-item\" href=\"#\">BNB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">BUSD</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">BTCB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">ETH</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">IDRTB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">TAUDB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">THKDB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">TUSDB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">USDSB</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">USDT</a></li>\r\n                  <li><a className=\"dropdown-item\" href=\"#\">DAI</a></li>\r\n                </ul>\r\n              </div>*/\r\n            }\r\n            </div>\r\n            <div className=\"me-2\">\r\n              <label >Type: </label>\r\n              <div className=\"btn-group\">\r\n                <button className=\"btn btn-secondary btn-sm dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  <span className=\"text-success\">Buy</span> &amp;\r\n                  <span className=\"text-danger\">Sell</span>\r\n                </button>\r\n                <ul className=\"dropdown-menu dropdown-menu-dark\" aria-labelledby=\"dropdownMenuButton1\">\r\n                  <li>\r\n                    <a className=\"dropdown-item\" href=\"#\">\r\n                      <span className=\"text-success\">Buy</span> &amp;\r\n                      <span className=\"text-danger\">Sell</span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className=\"dropdown-item\" href=\"#\">\r\n                      <span className=\"text-success\">Buy</span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className=\"dropdown-item\" href=\"#\">\r\n                      <span className=\"text-danger\">Sell</span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div className=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Basic example\">\r\n              <button type=\"button\" className=\"btn btn-secondary me-1\" onClick={()=>timespanTrade(24*3600)}>1 Day</button>\r\n              <button type=\"button\" className=\"btn btn-secondary me-1\" onClick={()=>timespanTrade(24*3600*7)}>1 Week</button>\r\n              <button type=\"button\" className=\"btn btn-secondary me-1\"  onClick={()=>timespanTrade(24*3600*30)}>1 Month</button>\r\n              <button type=\"button\" className=\"btn btn-secondary me-1\"  onClick={()=>timespanTrade(24*3600*93)}>3 Months</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table text-white table-sm table-borderless\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Tx</th>\r\n                <th scope=\"col\">Date</th>\r\n                <th scope=\"col\">Pair</th>\r\n                <th scope=\"col\">Side</th>\r\n                <th scope=\"col\">Price</th>\r\n                <th scope=\"col\">Filled</th>\r\n                <th scope=\"col\">Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {tradeHistories.map((order,idx)=>{\r\n                  if (!hideOthersTrade || order.pairs.indexOf(selectedToken?.symbol)>=0){\r\n                    return (\r\n                      <tr key={idx}>\r\n                        <td>{limitTx(order.transactionid)}</td>\r\n                        <td>{adjustDate(order.timestamp)}</td>\r\n                        <td>{order.pairs}</td>\r\n                        <td>{order.side}</td>\r\n                        <td>{order.price}</td>\r\n                        <td>{order.amount}</td>\r\n                        <td >{fixedLength(order.price*order.amount)}</td>\r\n                      </tr>\r\n                     )\r\n                  }\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"tab-pane fade\" id=\"pills-balances\" role=\"tabpanel\" aria-labelledby=\"pills-balances-tab\">\r\n        <div className=\"orders-widget__subtoolbar p-1 d-flex justify-content-end align-items-center\">\r\n          <div className=\"text-1\">\r\n        {/*Estimated Value: {fixedLength(totalBnbBalance)}BNB / ${fixedLength(totalBnbBalance*bnbPrice)}*/}</div>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table text-white table-sm table-borderless\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Asset</th>\r\n                <th scope=\"col\">Total Balance</th>\r\n                <th scope=\"col\">Available Balance</th>\r\n                <th scope=\"col\">In Order</th>\r\n                <th scope=\"col\">BNB Value</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {balances.map((balance,idx)=>\r\n                    <tr key={idx}>\r\n                      <td>{balance.asset}</td>\r\n                      <td>{balance.total}</td>\r\n                      <td>{balance.amount}</td>\r\n                      <td>{balance.inamount}</td>\r\n                      <td>{balance.bnbvalue}</td>\r\n                    </tr>\r\n              )}\r\n\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Orderhistory;\r\n"]},"metadata":{},"sourceType":"module"}