{"ast":null,"code":"import _asyncToGenerator from\"/root/dex/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/root/dex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/root/dex/frontend/node_modules/@babel/runtime/regenerator/index.js\";import useSharedState from'../hook/useSharedState';import React,{useState,useEffect,useCallback,useMemo}from\"react\";import io from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var orderbookcount=9;function Orderbook(){var _useSharedState=useSharedState(),selectedToken=_useSharedState.selectedToken,setSelectedToken=_useSharedState.setSelectedToken,bnbPrice=_useSharedState.bnbPrice,long=_useSharedState.long,setLong=_useSharedState.setLong,ask=_useSharedState.ask,setAsk=_useSharedState.setAsk,setBid=_useSharedState.setBid;//useState(undefined);\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),orderbook=_useState2[0],setOrderbook=_useState2[1];//useState(undefined);\nvar fixedLength=function fixedLength(y){var num=y;var prec=6;while(num>10){num/=10;prec--;}return y.toFixed(prec);};var getPercent=function getPercent(lst,value,start,end){var max=Number(lst[0][1]);var min=Number(lst[0][1]);for(var i=start;i<=end;i++){var order=lst[i];if(max<Number(order[1]))max=Number(order[1]);if(min>Number(order[1]))min=Number(order[1]);}var percent=max==min?0:(Number(value)-min)/(max-min);percent=Math.floor(percent*4)*25;// if(window.innerWidth > 992) {\n//   percent=percent/6;\n// }else{\n//   percent=percent/2;\n// }\n//if(window.innerWidth <= 760) percent=percent/2;\nreturn percent;};var getUsdValue=function getUsdValue(ask){var value=0;if(selectedToken.info.quote==\"BNB\"){value=Number(ask)*bnbPrice;}else{value=bnbPrice;}return value;};useEffect(function(){var socket=undefined;var init=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var prefix,url,response,rdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setOrderbook({});prefix=window.location.protocol+\"//\"+window.location.hostname;url=prefix+\"/api/getdata?op=orderbook&symbol=\"+selectedToken.symbol;_context.next=5;return fetch(url);case 5:response=_context.sent;_context.next=8;return response.json();case 8:rdata=_context.sent;setOrderbook(rdata);setAsk(Number(rdata.asks[0][0]));setBid(Number(rdata.bids[0][0]));if(!socket){socket=io(prefix);}else{socket.leaveAll();}socket.emit(\"join\",selectedToken.info.symbol);socket.on(\"orderbook\",function(data){setAsk(function(ask){setLong(ask<=Number(data.asks[0][0]));return Number(data.asks[0][0]);});setBid(function(bid){return Number(data.bids[0][0]);});setOrderbook(data);});case 15:case\"end\":return _context.stop();}}},_callee);}));return function init(){return _ref.apply(this,arguments);};}();if(selectedToken)init();return function(){if(socket){socket.disconnect();}};},[selectedToken]);return/*#__PURE__*/_jsxs(\"div\",{className:\"order-3 order-lg-3 col-12 col-lg-2 p-1 bg-dark text-white\",style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-none d-xl-block\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-pills mb-1 \",id:\"pills-tab\",role:\"tablist\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link bg-transparent\",id:\"pills-graph-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-graph\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-graph\",\"aria-selected\":\"false\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-graph-up text-white\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link bg-transparent\",id:\"pills-graph-up-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-graph-up\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-graph-up\",\"aria-selected\":\"false\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-graph-up-arrow text-success\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link bg-transparent\",id:\"pills-graph-down-tab\",\"data-bs-toggle\":\"pill\",\"data-bs-target\":\"#pills-graph-down\",type:\"button\",role:\"tab\",\"aria-controls\":\"pills-graph-down\",\"aria-selected\":\"false\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-graph-down-arrow text-danger\"})})})]})}),orderbook.bids&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",id:\"pills-graph-tabContent\",style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{\"position\":\"relative\"},className:\"tab-pane fade show active\",id:\"pills-graph\",role:\"tabpanel\",\"aria-labelledby\":\"pills-graph-tab\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"xl-6 col-6 col-lg-12\",style:{\"position\":\"relative\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{\"position\":\"relative\"},children:/*#__PURE__*/_jsxs(\"table\",{style:{\"position\":\"relative\"},className:\"table text-white table-sm table-borderless\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{style:{\"position\":\"relative\"},children:function(rows,i,len){if(orderbook.asks){while(i<len){rows.push(/*#__PURE__*/_jsxs(\"tr\",{className:\"relativetr\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-danger\",children:fixedLength(Number(orderbook.asks[len-i-1][0]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.asks[len-i-1][1]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.asks[len-i-1][1])*Number(orderbook.asks[len-i-1][0]))}),/*#__PURE__*/_jsx(\"td\",{className:\"tr-shadow\",style:{\"background\":\"rgba(234, 0, 112, 0.15)\",\"width\":getPercent(orderbook.asks,orderbook.asks[len-i-1][1],0,orderbookcount-1)+\"%\"}})]},i));i++;}}return rows;}([],0,orderbookcount)})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-lg-12 d-none d-xl-block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table text-white table-sm table-borderless\",children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"h6 \"+(long?\"text-success\":\"text-danger\"),children:[orderbook.asks?fixedLength(Number(orderbook.asks[0][0])):\"\",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-\"+(long?\"up\":\"down\")})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"h6 text-warning\",children:[\"$\",orderbook.bids?fixedLength(getUsdValue(orderbook.bids[0][0])):0]})]})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"xl-6 col-6 col-lg-12\",style:{\"position\":\"relative\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{\"position\":\"relative\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table text-white table-sm table-borderless\",style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{style:{\"position\":\"relative\"},children:function(rows,i,len){if(orderbook.bids){while(i<len){rows.push(/*#__PURE__*/_jsxs(\"tr\",{style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-success\",children:fixedLength(Number(orderbook.bids[i][0]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.bids[i][1]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.bids[i][1])*Number(orderbook.bids[i][0]))}),/*#__PURE__*/_jsx(\"td\",{className:\"tr-shadow\",style:{\"background\":\"rgba(0, 192, 135, 0.15)\",\"width\":getPercent(orderbook.bids,orderbook.bids[i][1],0,orderbookcount-1)+\"%\"}})]},i));i++;}}return rows;}([],0,orderbookcount)})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade\",id:\"pills-graph-down\",role:\"tabpanel\",\"aria-labelledby\":\"pills-graph-down-tab\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table text-white table-sm table-borderless\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:function(rows){if(orderbook.asks){var len=orderbook.asks.length;var i=0;while(i<len){rows.push(/*#__PURE__*/_jsxs(\"tr\",{style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-danger\",children:fixedLength(Number(orderbook.asks[len-i-1][0]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.asks[len-i-1][1]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.asks[len-i-1][1])*Number(orderbook.asks[len-i-1][0]))}),/*#__PURE__*/_jsx(\"td\",{className:\"tr-shadow\",style:{\"background\":\"rgba(234, 0, 112, 0.15)\",\"width\":getPercent(orderbook.asks,orderbook.asks[len-i-1][1],0,orderbook.asks.length-1)+\"%\"}})]},i));i++;}}return rows;}([])})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade\",id:\"pills-graph-up\",role:\"tabpanel\",\"aria-labelledby\":\"pills-graph-up-tab\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table text-white table-sm table-borderless\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:function(rows,i,len){if(orderbook.bids){var _len=orderbook.bids.length;var _i=0;while(_i<_len){rows.push(/*#__PURE__*/_jsxs(\"tr\",{style:{\"position\":\"relative\"},children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-success\",children:fixedLength(Number(orderbook.bids[_i][0]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.bids[_i][1]))}),/*#__PURE__*/_jsx(\"td\",{children:fixedLength(Number(orderbook.bids[_i][1])*Number(orderbook.bids[_i][0]))}),/*#__PURE__*/_jsx(\"td\",{className:\"tr-shadow\",style:{\"background\":\"rgba(0, 192, 135, 0.15)\",\"width\":getPercent(orderbook.bids,orderbook.bids[_i][1],0,orderbook.asks.length-1)+\"%\"}})]},_i));_i++;}}return rows;}([],0,6)})]})})})]})]});}export default Orderbook;","map":{"version":3,"sources":["/root/dex/frontend/src/component/Orderbook.js"],"names":["useSharedState","React","useState","useEffect","useCallback","useMemo","io","orderbookcount","Orderbook","selectedToken","setSelectedToken","bnbPrice","long","setLong","ask","setAsk","setBid","orderbook","setOrderbook","fixedLength","y","num","prec","toFixed","getPercent","lst","value","start","end","max","Number","min","i","order","percent","Math","floor","getUsdValue","info","quote","socket","undefined","init","prefix","window","location","protocol","hostname","url","symbol","fetch","response","json","rdata","asks","bids","leaveAll","emit","on","data","bid","disconnect","rows","len","push","length"],"mappings":"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","sourcesContent":["import useSharedState from '../hook/useSharedState'\r\nimport React ,{useState,useEffect,useCallback,useMemo} from \"react\";\r\nimport io from 'socket.io-client';\r\n\r\nconst orderbookcount =9;\r\n\r\nfunction Orderbook() {\r\n  const {selectedToken,setSelectedToken,bnbPrice,long,setLong,ask,setAsk,setBid}=useSharedState();//useState(undefined);\r\n  const [orderbook,setOrderbook]=useState({});//useState(undefined);\r\n  const fixedLength=(y)=> {\r\n    let num = y;\r\n    let prec = 6;\r\n    while(num > 10) {\r\n        num /= 10;\r\n        prec--;\r\n    }\r\n    return y.toFixed(prec);\r\n  }\r\n  const getPercent = (lst,value,start,end)=>{\r\n\r\n    let max = Number(lst[0][1]);\r\n    let min = Number(lst[0][1]);\r\n    for(let i=start;i<=end;i++){\r\n      const order = lst[i];\r\n      if(max<Number(order[1])) max = Number(order[1]);\r\n      if(min>Number(order[1])) min = Number(order[1]);\r\n\r\n    }\r\n    let percent = max==min?0:(Number(value)-min)/(max-min);\r\n    percent = Math.floor(percent*4) *25;\r\n    // if(window.innerWidth > 992) {\r\n    //   percent=percent/6;\r\n    // }else{\r\n    //   percent=percent/2;\r\n    // }\r\n    //if(window.innerWidth <= 760) percent=percent/2;\r\n\r\n    return(percent)\r\n\r\n  }\r\n  const getUsdValue = (ask)=>{\r\n    let value =0;\r\n    if(selectedToken.info.quote==\"BNB\"){\r\n      value = Number(ask)*bnbPrice;\r\n    }else{\r\n      value = bnbPrice;\r\n    }\r\n    return(value);\r\n  }\r\n  useEffect(() => {\r\n      let socket=undefined;\r\n      const init=async()=>{\r\n        setOrderbook({});\r\n        const prefix = window.location.protocol+\"//\"+window.location.hostname;\r\n        const url = prefix+\"/api/getdata?op=orderbook&symbol=\"+selectedToken.symbol;\r\n        const response = await fetch(url);\r\n        const rdata = await response.json();\r\n        setOrderbook(rdata);\r\n        setAsk(Number(rdata.asks[0][0]));\r\n        setBid(Number(rdata.bids[0][0]));\r\n        \r\n        if(!socket){\r\n          socket = io(prefix);\r\n        }else{\r\n          socket.leaveAll();\r\n        }\r\n        socket.emit(\"join\",selectedToken.info.symbol);\r\n        socket.on(\"orderbook\", function(data) {\r\n            setAsk((ask)=>{\r\n              setLong(ask<=Number(data.asks[0][0]));\r\n              return Number(data.asks[0][0])\r\n            });\r\n            setBid((bid)=>Number(data.bids[0][0]));\r\n            setOrderbook(data);\r\n        });\r\n      }\r\n      if(selectedToken) init();\r\n      return () => {\r\n        if (socket) {\r\n          socket.disconnect();\r\n        }\r\n      }\r\n  }, [selectedToken]) \r\n\r\n  return (\r\n  <div className=\"order-3 order-lg-3 col-12 col-lg-2 p-1 bg-dark text-white\" style={{\"position\":\"relative\"}}>\r\n      <div className=\"d-none d-xl-block\">\r\n        <ul className=\"nav nav-pills mb-1 \" id=\"pills-tab\" role=\"tablist\">\r\n          <li className=\"nav-item\" role=\"presentation\">\r\n            <button className=\"nav-link bg-transparent\" id=\"pills-graph-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-graph\" type=\"button\" role=\"tab\" aria-controls=\"pills-graph\" aria-selected=\"false\">\r\n              <i className=\"bi bi-graph-up text-white\" />\r\n            </button>\r\n          </li>\r\n          <li className=\"nav-item\" role=\"presentation\">\r\n            <button className=\"nav-link bg-transparent\" id=\"pills-graph-up-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-graph-up\" type=\"button\" role=\"tab\" aria-controls=\"pills-graph-up\" aria-selected=\"false\">\r\n              <i className=\"bi bi-graph-up-arrow text-success\" />\r\n            </button>\r\n          </li>\r\n          <li className=\"nav-item\" role=\"presentation\">\r\n            <button className=\"nav-link bg-transparent\" id=\"pills-graph-down-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-graph-down\" type=\"button\" role=\"tab\" aria-controls=\"pills-graph-down\" aria-selected=\"false\">\r\n              <i className=\"bi bi-graph-down-arrow text-danger\" />\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      {orderbook.bids && \r\n      <div className=\"tab-content\" id=\"pills-graph-tabContent\" style={{\"position\":\"relative\"}}>\r\n        <div style={{\"position\":\"relative\"}} className=\"tab-pane fade show active\" id=\"pills-graph\" role=\"tabpanel\" aria-labelledby=\"pills-graph-tab\">\r\n          <div className=\"row\">\r\n          <div className=\"xl-6 col-6 col-lg-12\" style={{\"position\":\"relative\"}}>\r\n            <div className=\"table-responsive\" style={{\"position\":\"relative\"}}>\r\n              <table style={{\"position\":\"relative\"}} className=\"table text-white table-sm table-borderless\">\r\n                <thead className=\"text-muted\">\r\n                  <tr>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Amount</th>\r\n                    <th scope=\"col\">Total</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody style={{\"position\":\"relative\"}}>\r\n                  { \r\n                    (function (rows, i, len) {\r\n                      if(orderbook.asks){\r\n                        while (i < len) {\r\n                          rows.push(\r\n                            <tr key={i}  className=\"relativetr\">\r\n                              <td className=\"text-danger\">{fixedLength(Number(orderbook.asks[len-i-1][0]))}</td>\r\n                              <td>{fixedLength(Number(orderbook.asks[len-i-1][1]))}</td>\r\n                              <td>{fixedLength(Number(orderbook.asks[len-i-1][1])*Number(orderbook.asks[len-i-1][0]))}</td>\r\n                              <td className=\"tr-shadow\" style={{\"background\": \"rgba(234, 0, 112, 0.15)\", \"width\": getPercent(orderbook.asks,orderbook.asks[len-i-1][1],0,orderbookcount-1)+\"%\"}}></td>\r\n                            </tr>\r\n                          );\r\n                          i++;\r\n                        }\r\n                      }\r\n                      return rows;\r\n                    })([], 0, orderbookcount)\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-6 col-lg-12 d-none d-xl-block\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table text-white table-sm table-borderless\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td className={\"h6 \"+(long?\"text-success\":\"text-danger\")}>\r\n                      {orderbook.asks ? fixedLength(Number(orderbook.asks[0][0])):\"\"}\r\n                      <i className={\"bi bi-arrow-\"+(long?\"up\":\"down\")} />\r\n                    </td>\r\n                    <td className=\"h6 text-warning\">\r\n                      ${orderbook.bids ? fixedLength(getUsdValue(orderbook.bids[0][0])):0}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div className=\"xl-6 col-6 col-lg-12\" style={{\"position\":\"relative\"}}>\r\n\r\n            <div className=\"table-responsive\" style={{\"position\":\"relative\"}}>\r\n              <table className=\"table text-white table-sm table-borderless\" style={{\"position\":\"relative\"}}>\r\n                <thead className=\"text-muted\">\r\n                  <tr>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Amount</th>\r\n                    <th scope=\"col\">Total</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody style={{\"position\":\"relative\"}}>\r\n                  { \r\n                    (function (rows, i, len) {\r\n                      if(orderbook.bids){\r\n                        while (i < len) {\r\n                          rows.push(\r\n                            <tr key={i} style={{\"position\": \"relative\"}}>\r\n                              <td className=\"text-success\">{fixedLength(Number(orderbook.bids[i][0]))}</td>\r\n                              <td>{fixedLength(Number(orderbook.bids[i][1]))}</td>\r\n                              <td>{fixedLength(Number(orderbook.bids[i][1])*Number(orderbook.bids[i][0]))}</td>\r\n                              <td className=\"tr-shadow\" style={{\"background\": \"rgba(0, 192, 135, 0.15)\", \"width\": getPercent(orderbook.bids,orderbook.bids[i][1],0,orderbookcount-1)+\"%\"}}></td>\r\n                            </tr>\r\n                          );\r\n                          i++;\r\n                        }\r\n                      }\r\n                      return rows;\r\n                    })([], 0, orderbookcount)\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"tab-pane fade\" id=\"pills-graph-down\" role=\"tabpanel\" aria-labelledby=\"pills-graph-down-tab\">\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table text-white table-sm table-borderless\">\r\n              <thead className=\"text-muted\">\r\n                <tr>\r\n                  <th scope=\"col\">Price</th>\r\n                  <th scope=\"col\">Amount</th>\r\n                  <th scope=\"col\">Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                { \r\n                  (function (rows) {\r\n                    if(orderbook.asks){\r\n                      const len = orderbook.asks.length;\r\n                      let i=0;\r\n                      while (i < len) {\r\n                        rows.push(\r\n                          <tr key={i}  style={{\"position\": \"relative\"}}>\r\n                            <td className=\"text-danger\">{fixedLength(Number(orderbook.asks[len-i-1][0]))}</td>\r\n                            <td>{fixedLength(Number(orderbook.asks[len-i-1][1]))}</td>\r\n                            <td>{fixedLength(Number(orderbook.asks[len-i-1][1])*Number(orderbook.asks[len-i-1][0]))}</td>\r\n                            <td className=\"tr-shadow\" style={{\"background\": \"rgba(234, 0, 112, 0.15)\", \"width\": getPercent(orderbook.asks,orderbook.asks[len-i-1][1],0,orderbook.asks.length-1)+\"%\"}}></td>\r\n                          </tr>\r\n                        );\r\n                        i++;\r\n                      }\r\n                    }\r\n                    return rows;\r\n                  })([])\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div className=\"tab-pane fade\" id=\"pills-graph-up\" role=\"tabpanel\" aria-labelledby=\"pills-graph-up-tab\">\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table text-white table-sm table-borderless\">\r\n              <thead className=\"text-muted\">\r\n                <tr>\r\n                  <th scope=\"col\">Price</th>\r\n                  <th scope=\"col\">Amount</th>\r\n                  <th scope=\"col\">Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                { \r\n                  (function (rows, i, len) {\r\n                    if(orderbook.bids){\r\n                      const len =  orderbook.bids.length;\r\n                      let i=0;\r\n\r\n                      while (i < len) {\r\n                        rows.push(\r\n                          <tr key={i}  style={{\"position\": \"relative\"}}>\r\n                            <td className=\"text-success\">{fixedLength(Number(orderbook.bids[i][0]))}</td>\r\n                            <td>{fixedLength(Number(orderbook.bids[i][1]))}</td>\r\n                            <td>{fixedLength(Number(orderbook.bids[i][1])*Number(orderbook.bids[i][0]))}</td>\r\n                            <td className=\"tr-shadow\" style={{\"background\": \"rgba(0, 192, 135, 0.15)\", \"width\": getPercent(orderbook.bids,orderbook.bids[i][1],0,orderbook.asks.length-1)+\"%\"}}></td>\r\n\r\n                          </tr>\r\n                        );\r\n                        i++;\r\n                      }\r\n                    }\r\n                    return rows;\r\n                  })([], 0, 6)\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orderbook;\r\n"]},"metadata":{},"sourceType":"module"}