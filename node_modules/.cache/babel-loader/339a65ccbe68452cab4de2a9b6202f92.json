{"ast":null,"code":"import useSharedState from'../hook/useSharedState';import TradingViewWidget,{Themes}from'react-tradingview-widget';import React,{useState,useEffect,useRef,useCallback,useMemo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Chart(){var fixedLength=function fixedLength(y){var num=y;var prec=6;while(num>10){num/=10;prec--;}return y.toFixed(prec);};var _useSharedState=useSharedState(),selectedToken=_useSharedState.selectedToken,setSelectedToken=_useSharedState.setSelectedToken,long=_useSharedState.long,setLong=_useSharedState.setLong,ask=_useSharedState.ask,setAsk=_useSharedState.setAsk,tokensList=_useSharedState.tokensList;//useState(undefined);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"order-1 order-lg-2 text-white widget-header \"+(!selectedToken||selectedToken.info.listed?\"col-lg-8 col-12\":\"col-lg-10 col-12\"),style:{\"paddingBottom\":\"15px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex d-lg-none justify-content-between align-items-center p-1 text-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary dropdown-toggle\",type:\"button\",id:\"pairs\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:selectedToken?selectedToken.info.base+\" / \"+selectedToken.info.quote:\"\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"dropdown-menu dropdown-menu-dark\",\"aria-labelledby\":\"pairs\",children:tokensList.map(function(token,idx){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",role:\"button\",onClick:function onClick(){return setSelectedToken(token);},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:token.info.base+\" / \"+token.info.quote})})},idx);})})]}),/*#__PURE__*/_jsxs(\"span\",{className:long?\"text-success\":\"text-danger\",children:[fixedLength(ask),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-\"+(long?\"up\":\"down\")})]}),/*#__PURE__*/_jsxs(\"span\",{className:(selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange)>0?\" text-success\":\"text-danger\",children:[(selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange)>0?\"+\":\"\",selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange.toFixed(2),\"%\\xA0\",/*#__PURE__*/_jsxs(\"span\",{className:\"text-white ms-2\",children:[\"Vol\\xA0\",selectedToken?selectedToken.volumeUSD.toFixed(0):0,\" USD\"]})]})]}),false&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"High \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white ms-2\",children:\"42210.0\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Low\\xA0 \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white ms-2\",children:\"32210.0\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-none d-lg-flex align-items-center p-1 text-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column me-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fs-5\",children:[selectedToken?selectedToken.info.base+\" / \"+selectedToken.info.quote:\"\",\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column me-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Last Price\"}),/*#__PURE__*/_jsxs(\"span\",{className:long?\"text-success\":\"text-danger\",children:[fixedLength(ask),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-\"+(long?\"up\":\"down\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column me-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"24h change\"}),/*#__PURE__*/_jsxs(\"span\",{className:(selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange)>0?\" text-success\":\"text-danger\",children:[(selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange)>0?\"+\":\"\",selectedToken===null||selectedToken===void 0?void 0:selectedToken.priceBNBChange.toFixed(2),\"%\"]})]}),false&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column me-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"24h High\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"43128.2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column me-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"24h Low\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"42210.0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"24h Volume\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[selectedToken?selectedToken.volumeUSD.toFixed(0):0,\" USD\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tradingview-widget-container\",style:{\"height\":\"450px\"},children:/*#__PURE__*/_jsx(TradingViewWidget,{symbol:selectedToken?selectedToken.info.listed?selectedToken.info.base+selectedToken.info.quote:\"BNBUSDT\":\"BNBUSDT\",theme:Themes.DARK,interval:\"60\",locale:\"us\",autosize:true,allow_symbol_change:false,hide_legend:true})})]});}export default Chart;","map":{"version":3,"sources":["/root/dex/frontend/src/component/Chart.js"],"names":["useSharedState","TradingViewWidget","Themes","React","useState","useEffect","useRef","useCallback","useMemo","Chart","fixedLength","y","num","prec","toFixed","selectedToken","setSelectedToken","long","setLong","ask","setAsk","tokensList","info","listed","base","quote","map","token","idx","priceBNBChange","volumeUSD","DARK"],"mappings":"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","sourcesContent":["import useSharedState from '../hook/useSharedState'\r\nimport TradingViewWidget, { Themes } from 'react-tradingview-widget';\r\nimport React ,{useState,useEffect,useRef,useCallback,useMemo} from \"react\";\r\n\r\nfunction Chart() {\r\n  const fixedLength=(y)=> {\r\n    let num = y;\r\n    let prec = 6;\r\n    while(num > 10) {\r\n        num /= 10;\r\n        prec--;\r\n    }\r\n    return y.toFixed(prec);\r\n  }\r\n\r\n  const {selectedToken,setSelectedToken,long,setLong,ask,setAsk,tokensList}=useSharedState();//useState(undefined);\r\n  \r\n  return (\r\n    <div className={\"order-1 order-lg-2 text-white widget-header \"+((!selectedToken || selectedToken.info.listed)?\"col-lg-8 col-12\":\"col-lg-10 col-12\")} style={{\"paddingBottom\":\"15px\"}} >\r\n      <div className=\"d-flex d-lg-none justify-content-between align-items-center p-1 text-2\">\r\n        <div className=\"d-flex flex-column\">\r\n          <div className=\"btn-group\">\r\n            <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"pairs\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n              {selectedToken?(selectedToken.info.base+\" / \"+selectedToken.info.quote):\"\"} \r\n            </button>\r\n            <ul className=\"dropdown-menu dropdown-menu-dark\" aria-labelledby=\"pairs\">\r\n            {tokensList.map((token,idx)=>(\r\n              <li key={idx}>\r\n                <a className=\"dropdown-item\" role=\"button\" onClick={()=>setSelectedToken(token)}>\r\n                  <span className=\"text-white\">{token.info.base+\" / \"+token.info.quote}</span>\r\n                </a>\r\n              </li>\r\n            ))}\r\n              \r\n            </ul>\r\n          </div>\r\n          <span className={long?\"text-success\":\"text-danger\"} >{fixedLength(ask)}\r\n                    <i className={\"bi bi-arrow-\"+(long?\"up\":\"down\")} /></span>\r\n          <span className={(selectedToken?.priceBNBChange>0?\" text-success\":\"text-danger\")}>{selectedToken?.priceBNBChange>0?\"+\":\"\"}{selectedToken?.priceBNBChange.toFixed(2)}%&nbsp;\r\n            <span className=\"text-white ms-2\">Vol&nbsp;\r\n              {selectedToken?selectedToken.volumeUSD.toFixed(0):0} USD\r\n            </span>\r\n          </span>\r\n        </div>\r\n        { false && \r\n        <div className=\"d-flex flex-column\">\r\n          <span className=\"text-muted\">High <span className=\"text-white ms-2\">42210.0</span></span>\r\n          <span className=\"text-muted\">Low&nbsp; <span className=\"text-white ms-2\">32210.0</span></span>\r\n        </div>\r\n        }\r\n      </div>\r\n      <div className=\"d-none d-lg-flex align-items-center p-1 text-2\">\r\n        <div className=\"d-flex flex-column me-3\">\r\n          <span className=\"fs-5\">{selectedToken?(selectedToken.info.base+\" / \"+selectedToken.info.quote):\"\"} </span>\r\n        </div>\r\n        <div className=\"d-flex flex-column me-3\">\r\n          <span className=\"text-muted\">Last Price</span>\r\n          <span className={long?\"text-success\":\"text-danger\"}>\r\n                    {fixedLength(ask)}\r\n                    <i className={\"bi bi-arrow-\"+(long?\"up\":\"down\")} />\r\n          </span>\r\n        </div>\r\n        <div className=\"d-flex flex-column me-3\">\r\n          <span className=\"text-muted\">24h change</span>\r\n          <span className={(selectedToken?.priceBNBChange>0?\" text-success\":\"text-danger\")}>\r\n            {selectedToken?.priceBNBChange>0?\"+\":\"\"}{selectedToken?.priceBNBChange.toFixed(2)}%\r\n          </span>\r\n        </div>\r\n        {false &&\r\n          <>\r\n        <div className=\"d-flex flex-column me-3\">\r\n          <span className=\"text-muted\">24h High</span>\r\n          <span className=\"text-white\">\r\n            43128.2\r\n          </span>\r\n        </div>\r\n        <div className=\"d-flex flex-column me-3\">\r\n          <span className=\"text-muted\">24h Low</span>\r\n          <span className=\"text-white\">\r\n            42210.0\r\n          </span>\r\n        </div>\r\n        </>\r\n        }\r\n        <div className=\"d-flex flex-column\">\r\n          <span className=\"text-muted\">24h Volume</span>\r\n          <span className=\"text-white\">\r\n            {selectedToken?selectedToken.volumeUSD.toFixed(0):0} USD\r\n          </span>\r\n        </div>\r\n\r\n      </div>\r\n      <div className=\"tradingview-widget-container\" style={{\"height\":\"450px\"}}>\r\n        <TradingViewWidget \r\n            symbol={selectedToken?(selectedToken.info.listed?(selectedToken.info.base+selectedToken.info.quote):\"BNBUSDT\"):\"BNBUSDT\"} \r\n            theme={Themes.DARK}\r\n            interval = \"60\"\r\n            locale=\"us\"\r\n            autosize\r\n            allow_symbol_change={false}\r\n            hide_legend={true}\r\n        />   \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chart;\r\n"]},"metadata":{},"sourceType":"module"}