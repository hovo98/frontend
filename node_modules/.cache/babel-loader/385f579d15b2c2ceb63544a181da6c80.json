{"ast":null,"code":"var _jsxFileName = \"/root/dex/frontend/src/component/Trading.js\",\n    _s = $RefreshSig$();\n\nimport { Modal } from \"react-bootstrap\";\nimport useSharedState from '../hook/useSharedState';\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { useWeb3React } from '@web3-react/core';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { InjectedConnector } from '@web3-react/injected-connector';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\nimport { WETH, marketOrder, limitOrder, STAKEFEE, EXECUTOR_FEE, SLIPPAGE } from \"./const\";\nimport { ERC20_ABI } from \"../abi/ERC20\";\nimport { LIMIT_ABI } from \"../abi/LIMIT\";\nimport { MARKET_ABI } from \"../abi/MARKET\";\nimport { PAN_ABI } from \"../abi/PAN\";\nimport { getContract } from \"./contract\";\nimport { fixedLength } from \"./common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst workChainId = 56;\n\nfunction Trading() {\n  _s();\n\n  const {\n    chainId,\n    account,\n    activate,\n    active,\n    library\n  } = useWeb3React();\n  const [show, setShow] = useState(false);\n  const [showMore, setShowMore] = useState(false);\n  const [slippagePractice, setSlippagePractice] = useState(SLIPPAGE);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => {\n    if (active == false) {\n      setShow(true);\n    }\n  };\n\n  const connectMetamask = async () => {\n    const injectedConnector = new InjectedConnector({\n      supportedChainIds: [1, 3, 4, 42, 56, 137]\n    });\n    activate(injectedConnector);\n    handleClose();\n  };\n\n  const connectWalletConnect = async () => {\n    const WalletConnect = new WalletConnectConnector({\n      rpcUrl: `https://mainnet.infura.io/v3/${process.env.INFURA_KEY}`,\n      bridge: \"https://bridge.walletconnect.org\",\n      qrcode: true\n    });\n    activate(WalletConnect);\n    handleClose();\n  };\n\n  const toFixed = _x => {\n    let x = Math.floor(_x);\n\n    if (Math.abs(x) < 1.0) {\n      var e = parseInt(x.toString().split('e-')[1]);\n\n      if (e) {\n        x *= Math.pow(10, e - 1);\n        x = '0.' + new Array(e).join('0') + x.toString().substring(2);\n      }\n    } else {\n      var e = parseInt(x.toString().split('+')[1]);\n\n      if (e > 20) {\n        e -= 20;\n        x /= Math.pow(10, e);\n        x += new Array(e + 1).join('0');\n      }\n    }\n\n    return x.toString();\n  };\n\n  const [orderType, setOrderType] = useState('market');\n  const {\n    selectedToken,\n    setSelectedToken,\n    bnbPrice,\n    long,\n    setLong,\n    ask,\n    bid\n  } = useSharedState(); //useState(undefined);\n\n  const [priceBuy, setPriceBuy] = useState(0);\n  const [priceSell, setPriceSell] = useState(0);\n  const [amountBuy, setAmountBuy] = useState(0);\n  const [amountSell, setAmountSell] = useState(0);\n  const [totalSell, setTotalSell] = useState(0);\n  const [totalBuy, setTotalBuy] = useState(0);\n  const [timestamp, setTimestamp] = useState(0);\n  const [balances, setBalances] = useState({\n    base: 0,\n    quote: 0\n  });\n  const [exactIn, setExactIn] = useState(false);\n  const [disabled, setDisabled] = useState(false);\n  const limitContract = getContract(limitOrder, LIMIT_ABI, library, account);\n  const marketContract = getContract(marketOrder, MARKET_ABI, library, account); //const marketContract = getContract(\"0x10ED43C718714eb63d5aA57B78B54704E256024E\", PAN_ABI,library,account);\n\n  const resetAll = () => {\n    setAmountBuy(0);\n    setAmountSell(0);\n    setTotalBuy(0);\n    setTotalSell(0);\n  };\n\n  const setAmountBuyCall = value => {\n    setAmountBuy(value);\n    setExactIn(false);\n  };\n\n  const setPercentBuy = value => {\n    if (!selectedToken) return;\n    setExactIn(true);\n\n    if (orderType == 'limit' || orderType == 'market') {\n      const total = balances.quote * value / (1 + STAKEFEE + Number(slippagePractice) / 100);\n      setTotalBuy(Number(fixedLength(selectedToken.info.quote != \"BNB\" ? total : total - EXECUTOR_FEE)));\n    }\n  };\n\n  const setPercentSell = value => {\n    if (!selectedToken) return;\n    const total = balances.base * value / (1 + STAKEFEE + Number(slippagePractice) / 100);\n    setAmountSell(Number(fixedLength(selectedToken.info.base != \"BNB\" ? total : total - EXECUTOR_FEE)));\n  };\n\n  const convertAmount = (value, decimals) => {\n    return value / Math.pow(10, decimals);\n  };\n\n  const updateMarketData = async () => {\n    //buy\n    console.log('update market data');\n    let assetIn = selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address;\n    let assetOut = selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address;\n    let decimalsIn = selectedToken.info.quote == \"BNB\" ? WETH.decimals : selectedToken.info.decimals;\n    let decimalsOut = selectedToken.info.base == \"BNB\" ? WETH.decimals : selectedToken.info.decimals;\n    let path = [assetIn, assetOut];\n\n    if (exactIn) {\n      if (totalBuy > 0) {\n        const amountIn = getBigNumber((assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * totalBuy);\n\n        const _amountOut = await marketContract.getAmountsOut(amountIn, path);\n\n        const amountOut = _amountOut[_amountOut.length - 1];\n        setAmountBuy(Number(fixedLength(convertAmount(Number(amountOut), decimalsOut))));\n      }\n    } else {\n      if (amountBuy > 0) {\n        const amountOut = getBigNumber((assetOut == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * amountBuy);\n\n        const _amountIn = await marketContract.getAmountsIn(amountOut, path);\n\n        const amountIn = _amountIn[0];\n        setTotalBuy(Number(fixedLength(convertAmount(Number(amountIn), decimalsIn))));\n      }\n    } //sell\n\n\n    assetIn = selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address;\n    ;\n    assetOut = selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address;\n    ;\n    path = [assetIn, assetOut];\n    decimalsIn = selectedToken.info.base == \"BNB\" ? WETH.decimals : selectedToken.info.decimals;\n    decimalsOut = selectedToken.info.quote == \"BNB\" ? WETH.decimals : selectedToken.info.decimals;\n    if (amountSell == 0) return;\n    const amountIn = getBigNumber((assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * amountSell);\n\n    const _amountOut = await marketContract.getAmountsOut(amountIn, path);\n\n    const amountOut = _amountOut[_amountOut.length - 1];\n    setTotalSell(Number(fixedLength(convertAmount(Number(amountOut), decimalsOut))));\n  };\n\n  useEffect(() => {\n    const update = async () => {\n      if (orderType == 'limit') {\n        if (Number(priceBuy) > 0) {\n          if (exactIn) {\n            const buy = Number(fixedLength(Number(totalBuy) / Number(priceBuy)));\n            setAmountBuy(buy);\n          } else {\n            const total = Number(fixedLength(Number(amountBuy) * Number(priceBuy)));\n            setTotalBuy(total);\n          }\n        }\n      } else {\n        updateMarketData();\n      }\n    };\n\n    if (selectedToken && account) update();\n  }, [selectedToken, account, priceBuy, amountBuy, totalBuy, orderType]);\n  useEffect(() => {\n    const update = async () => {\n      if (orderType == 'limit') {\n        if (Number(priceSell) > 0) {\n          const total = Number(fixedLength(Number(amountSell) * Number(priceSell)));\n          setTotalSell(total);\n        }\n      } else {\n        updateMarketData();\n      }\n    };\n\n    if (selectedToken && account) update();\n  }, [selectedToken, account, priceSell, amountSell, orderType]);\n\n  const updateBalance = async () => {\n    const contract = getContract(selectedToken.address, ERC20_ABI, library, account);\n    let ethBalance = Number(await library.getBalance(account));\n    let tokenBalance = Number(await contract.balanceOf(account));\n    ethBalance = Number(fixedLength(ethBalance / Math.pow(10, WETH.decimals)));\n    tokenBalance = Number(fixedLength(tokenBalance / Math.pow(10, selectedToken.info.decimals)));\n    let data = { ...balances\n    };\n    data.base = selectedToken.info.base == \"BNB\" ? ethBalance : tokenBalance;\n    data.quote = selectedToken.info.quote == \"BNB\" ? ethBalance : tokenBalance;\n    setBalances(data);\n  };\n\n  useEffect(() => {\n    const update = async () => {\n      updateBalance();\n      if (orderType == 'market') updateMarketData();\n      setAmountBuy(0);\n      setAmountSell(0);\n      setTotalBuy(0);\n      setTotalSell(0);\n    };\n\n    if (selectedToken && account) update();\n  }, [selectedToken, account, timestamp]);\n  useEffect(() => {\n    library === null || library === void 0 ? void 0 : library.on('block', () => {\n      updateBalance();\n    });\n    return () => {\n      library === null || library === void 0 ? void 0 : library.removeAllListeners('block');\n    };\n  }, [library]);\n\n  const getBigNumber = value => {\n    return BigNumber.from(toFixed(value));\n  };\n\n  const getDeadLine = async () => {\n    let timestamp = 0;\n\n    if (library) {\n      const bn = await library.getBlockNumber();\n      timestamp = (await library.getBlock(bn)).timestamp + 3600 * 3;\n    }\n\n    return timestamp;\n  };\n\n  const sendMarketOrder = async (assetIn, assetOut, amountIn, amountOut) => {\n    setDisabled(true);\n    console.log({\n      assetIn,\n      assetOut,\n      amountIn,\n      amountOut\n    });\n\n    try {\n      let deadline = await getDeadLine();\n      const path = [assetIn, assetOut];\n      let options = {\n        gasLimit: 0,\n        value: getBigNumber((WETH.address == assetIn ? amountIn * (1 + STAKEFEE) : 0) * Math.pow(10, WETH.decimals))\n      };\n      const ai = getBigNumber((assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * amountIn);\n      const ao = getBigNumber((amountOut == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * (amountOut * (1 - Number(slippagePractice) / 100)));\n\n      if (WETH.address != assetIn) {\n        const allowai = getBigNumber(assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals) * (amountIn * (1 + STAKEFEE)));\n        const contract = getContract(assetIn, ERC20_ABI, library, account);\n        const result = (await contract.functions.allowance(account, marketOrder))[0];\n\n        if (result.lt(allowai)) {\n          const rt = await contract.approve(marketOrder, getBigNumber(Math.pow(2, 255)));\n          await rt.wait();\n        }\n      }\n\n      console.log({\n        assetIn,\n        assetOut,\n        ai,\n        ao,\n        path,\n        options\n      });\n      let gasLimit;\n\n      if (assetIn == WETH.address) {\n        console.log('1');\n        gasLimit = await marketContract.estimateGas.myswapExactETHForTokens(ai, ao, path, account, deadline, options);\n      }\n\n      if (assetOut == WETH.address) {\n        console.log('2');\n        gasLimit = await marketContract.estimateGas.swapExactTokensForETH(ai, ao, path, account, deadline, options);\n      }\n\n      if (assetIn != WETH.address && assetOut != WETH.address) {\n        console.log('3');\n        gasLimit = await marketContract.estimateGas.swapExactTokensForTokens(ai, ao, path, account, deadline, options);\n      }\n\n      options.gasLimit = gasLimit;\n      let tx;\n\n      if (assetIn == WETH.address) {\n        tx = await marketContract.myswapExactETHForTokens(ai, ao, path, account, deadline, options);\n      }\n\n      if (assetOut == WETH.address) {\n        tx = await marketContract.swapExactTokensForETH(ai, ao, path, account, deadline, options);\n      }\n\n      if (assetIn != WETH.address && assetOut != WETH.address) {\n        tx = await marketContract.swapExactTokensForTokens(ai, ao, path, account, deadline, options);\n      }\n\n      setAmountBuy(0);\n      setAmountSell(0);\n      setTotalBuy(0);\n      setTotalSell(0);\n      setDisabled(false);\n      return tx;\n    } catch (e) {\n      setDisabled(false);\n      console.log(e);\n    }\n\n    return undefined;\n  };\n\n  const sendLimitOrder = async (assetIn, assetOut, amountIn, amountOut) => {\n    setDisabled(true);\n    console.log({\n      assetIn,\n      assetOut,\n      amountIn,\n      amountOut\n    });\n\n    try {\n      const ordertype = assetIn == WETH.address ? 0 : assetOut == WETH.address ? 1 : 2;\n      const path = [assetIn, assetOut];\n      let options = {\n        gasLimit: 0,\n        value: getBigNumber((WETH.address == assetIn ? amountIn * (1 + STAKEFEE) + EXECUTOR_FEE : EXECUTOR_FEE) * Math.pow(10, WETH.decimals))\n      };\n      const ai = getBigNumber((assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * amountIn);\n      const ao = getBigNumber((amountOut == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals)) * amountOut);\n      const efee = getBigNumber(EXECUTOR_FEE * Math.pow(10, WETH.decimals));\n\n      if (WETH.address != assetIn) {\n        const allowai = getBigNumber(assetIn == WETH.address ? Math.pow(10, WETH.decimals) : Math.pow(10, selectedToken.info.decimals) * (amountIn * (1 + STAKEFEE)));\n        const contract = getContract(assetIn, ERC20_ABI, library, account);\n        const result = (await contract.functions.allowance(account, limitOrder))[0];\n\n        if (result.lt(allowai)) {\n          console.log({\n            allowai,\n            result\n          });\n          const rt = await contract.approve(limitOrder, getBigNumber(Math.pow(2, 255)));\n          await rt.tx.wait();\n        }\n      }\n\n      console.log({\n        ordertype,\n        assetIn,\n        assetOut,\n        ai,\n        ao,\n        path,\n        efee,\n        options\n      });\n      const gasLimit = await limitContract.estimateGas.createOrder(ordertype, assetIn, assetOut, ai, ao, path, efee, options);\n      options.gasLimit = gasLimit;\n      const tx = await limitContract.createOrder(ordertype, assetIn, assetOut, ai, ao, path, efee, options);\n      setAmountBuy(0);\n      setAmountSell(0);\n      setTotalBuy(0);\n      setTotalSell(0);\n      setDisabled(false);\n      return tx;\n    } catch (e) {\n      setDisabled(false);\n      console.log(e);\n    }\n\n    return undefined;\n  };\n\n  const onBuy = async () => {\n    if (orderType == 'limit') {\n      const response = await sendLimitOrder(selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address, selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address, Number(totalBuy), Number(amountBuy));\n\n      if (response) {\n        const regist = await fetch(getapiquery(response, 'buy', 'limit', Number(totalBuy), selectedToken.info.quote));\n      }\n    } else {\n      const response = await sendMarketOrder(selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address, selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address, Number(totalBuy), Number(amountBuy));\n\n      if (response) {\n        const regist = await fetch(getapiquery(response, 'buy', 'market', Number(totalBuy), selectedToken.info.quote));\n      }\n    }\n  };\n\n  const onSell = async () => {\n    if (orderType == 'limit') {\n      const response = await sendLimitOrder(selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address, selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address, Number(amountSell), Number(totalSell));\n\n      if (response) {\n        const regist = await fetch(getapiquery(response, 'sell', 'limit', Number(amountSell), selectedToken.info.base));\n      }\n    } else {\n      const response = await sendMarketOrder(selectedToken.info.base == \"BNB\" ? WETH.address : selectedToken.address, selectedToken.info.quote == \"BNB\" ? WETH.address : selectedToken.address, Number(amountSell), Number(totalSell));\n\n      if (response) {\n        const regist = await fetch(getapiquery(response, 'sell', 'market', Number(amountSell), selectedToken.info.base));\n      }\n    }\n  };\n\n  const getapiquery = (response, side, ordertype, inAmount, inAsset) => {\n    let apiquery = \"\";\n\n    if (selectedToken) {\n      const trid = response.hash;\n      const prefix = window.location.protocol + \"//\" + window.location.hostname;\n      apiquery = prefix + \"/api/createorder?chainid=56&owner=\" + account + \"&pairs=\" + selectedToken.info.base + selectedToken.info.quote + \"&side=\" + side + \"&transactionid=\" + trid + \"&trstatus=pending&ordertype=\" + ordertype;\n      apiquery = apiquery + \"&orderstatus=executed\";\n      apiquery = apiquery + \"&orderid=0&inAmount=\" + inAmount + \"&inAsset=\" + inAsset;\n\n      if (ordertype.indexOf(\"market\") >= 0) {\n        const tokenprice = side == 'buy' ? Number(fixedLength(Number(totalBuy) / Number(amountBuy))) : Number(fixedLength(Number(totalSell) / Number(amountSell)));\n        apiquery = apiquery + \"&price=\" + tokenprice;\n      } else {\n        apiquery = apiquery + \"&price=\" + (side == 'buy' ? priceBuy : priceSell);\n      }\n\n      apiquery = apiquery + \"&amount=\" + (side == 'buy' ? amountBuy : amountSell);\n      console.log(apiquery);\n    }\n\n    return apiquery;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-12 col-lg-4 bg-dark text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mt-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"button\",\n        className: \"text-1 \" + (orderType == 'limit' ? \"text-warning\" : \"text-muted\"),\n        onClick: () => {\n          setOrderType('limit');\n          resetAll();\n        },\n        children: \"Limit Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"button\",\n        className: \"text-1 \" + (orderType == 'market' ? \"text-warning\" : \"text-muted\"),\n        onClick: () => {\n          setOrderType('market');\n          resetAll();\n        },\n        children: \"Market Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-2 pe-2\",\n        id: \"buy-crypto\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./assets/images/visa.svg\",\n          alt: \"\",\n          width: 24,\n          height: 24,\n          className: \"d-inline-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./assets/images/mastercard.svg\",\n          alt: \"\",\n          width: 24,\n          height: 24,\n          className: \"d-inline-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-white smaller-text\",\n          children: \"Buy Crypto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: [orderType == 'limit' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"basic-url\",\n            className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPriceBuy(ask),\n              children: \"Best Ask\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: priceBuy,\n              onChange: e => setPriceBuy(e.currentTarget.value),\n              className: \"form-control bg-secondary text-white border-0\",\n              \"aria-label\": \"Amount (to the nearest dollar)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text bg-secondary text-light border-0\",\n              children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.quote\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"basic-url\",\n          className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              style: {\n                \"padding\": \"3px\"\n              },\n              onClick: () => setPercentBuy(0.25),\n              children: \"25%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              style: {\n                \"padding\": \"3px\"\n              },\n              onClick: () => setPercentBuy(0.5),\n              children: \"50%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              style: {\n                \"padding\": \"3px\"\n              },\n              onClick: () => setPercentBuy(0.75),\n              children: \"75%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              style: {\n                \"padding\": \"3px\"\n              },\n              onClick: () => setPercentBuy(1),\n              children: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group input-group-sm mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: amountBuy,\n            onChange: e => {\n              setAmountBuyCall(e.currentTarget.value);\n            },\n            className: \"form-control bg-secondary text-white border-0\",\n            \"aria-label\": \"Amount (to the nearest dollar)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text bg-secondary text-light border-0\",\n            children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.base\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"basic-url\",\n          className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Avbl\\xA0\", balances.quote, selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.quote]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group input-group-sm mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            readOnly: true,\n            value: totalBuy,\n            className: \"form-control bg-secondary text-white border-0\",\n            \"aria-label\": \"Amount (to the nearest dollar)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text bg-secondary text-light border-0\",\n            children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.quote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid mt-3\",\n          children: [active == false && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-buy btn-sm\",\n            type: \"button\",\n            onClick: handleShow,\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), active && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-buy btn-sm\",\n            type: \"button\",\n            disabled: disabled || balances.quote < totalBuy,\n            onClick: onBuy,\n            children: [\"Buy \", selectedToken ? selectedToken.info.base : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: [orderType == 'limit' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"basic-url\",\n            className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPriceSell(bid),\n              children: \"Best Bid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: priceSell,\n              onChange: e => setPriceSell(e.currentTarget.value),\n              className: \"form-control bg-secondary text-white border-0\",\n              \"aria-label\": \"Amount (to the nearest dollar)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text bg-secondary text-light border-0\",\n              children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.quote\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"basic-url\",\n          className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPercentSell(0.25),\n              style: {\n                \"padding\": \"3px\"\n              },\n              children: \"25%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPercentSell(0.5),\n              style: {\n                \"padding\": \"3px\"\n              },\n              children: \"50%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPercentSell(0.75),\n              style: {\n                \"padding\": \"3px\"\n              },\n              children: \"75%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-light\",\n              role: \"button\",\n              onClick: () => setPercentSell(1),\n              style: {\n                \"padding\": \"3px\"\n              },\n              children: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group input-group-sm mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: amountSell,\n            onChange: e => {\n              setAmountSell(e.currentTarget.value);\n            },\n            className: \"form-control bg-secondary text-white border-0\",\n            \"aria-label\": \"Amount (to the nearest dollar)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text bg-secondary text-light border-0\",\n            children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.base\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"basic-url\",\n          className: \"form-label mb-1 d-flex justify-content-between text-1 text-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Avbl\\xA0\", balances.base, selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.base]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group input-group-sm mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            readOnly: true,\n            value: totalSell,\n            className: \"form-control bg-secondary text-white border-0\",\n            \"aria-label\": \"Amount (to the nearest dollar)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text bg-secondary text-light border-0\",\n            children: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.info.quote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid mt-3\",\n          children: [active == false && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sell btn-sm\",\n            type: \"button\",\n            onClick: handleShow,\n            children: \"Connect Wallet \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), active && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sell btn-sm\",\n            disabled: disabled || balances.base < amountSell,\n            type: \"button\",\n            onClick: onSell,\n            children: [\"Sell \", selectedToken ? selectedToken.info.base : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1  pt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"bi bi-gear-fill\",\n          role: \"button\",\n          onClick: () => setShowMore(!showMore)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), showMore && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-11 \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row text-1 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9 text-light  pt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"slip page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"text-light\",\n                role: \"button\",\n                onClick: () => setSlippagePractice(0.1),\n                style: {\n                  \"padding\": \"3px\"\n                },\n                children: \"0.1%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"text-light\",\n                role: \"button\",\n                onClick: () => setSlippagePractice(0.3),\n                style: {\n                  \"padding\": \"3px\"\n                },\n                children: \"0.3%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"text-light\",\n                role: \"button\",\n                onClick: () => setSlippagePractice(0.75),\n                style: {\n                  \"padding\": \"3px\"\n                },\n                children: \"0.75%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"text-light\",\n                role: \"button\",\n                onClick: () => setSlippagePractice(1),\n                style: {\n                  \"padding\": \"3px\"\n                },\n                children: \"1%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row text-1 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group input-group-sm mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: slippagePractice,\n                  className: \"form-control bg-secondary text-white border-0\",\n                  \"aria-label\": \"slippage\",\n                  onChange: e => setSlippagePractice(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text bg-secondary text-light border-0\",\n                  children: \"%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"text-center flex-grow-1 text-white\",\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-none d-xl-block d-flex align-items-center justify-content-between m-3 p-3 bg-secondary\",\n          \"data-bs-dismiss\": \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            role: \"button\",\n            onClick: connectMetamask,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Metamask\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fs-6 text-muted\",\n              children: \"Available as a browser extension and as a mobile app, MetaMask equips you with a key vault, secure login, token wallet, and token exchange.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-boxes text-warning fs-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          role: \"button\",\n          onClick: connectWalletConnect,\n          className: \"d-flex align-items-center justify-content-between m-3 p-3 bg-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"WalletConnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-water text-primary fs-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-warning fs-6 p-3 text-end\",\n          children: \"Don't have a wallet? Click here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 440,\n    columnNumber: 6\n  }, this);\n}\n\n_s(Trading, \"SCUsMpcJwTTrQhN6RUNgIOzajF0=\", false, function () {\n  return [useWeb3React, useSharedState];\n});\n\n_c = Trading;\nexport default Trading;\n\nvar _c;\n\n$RefreshReg$(_c, \"Trading\");","map":{"version":3,"sources":["/root/dex/frontend/src/component/Trading.js"],"names":["Modal","useSharedState","React","useState","useEffect","useCallback","useMemo","useWeb3React","Web3Provider","InjectedConnector","BigNumber","WalletConnectConnector","WETH","marketOrder","limitOrder","STAKEFEE","EXECUTOR_FEE","SLIPPAGE","ERC20_ABI","LIMIT_ABI","MARKET_ABI","PAN_ABI","getContract","fixedLength","workChainId","Trading","chainId","account","activate","active","library","show","setShow","showMore","setShowMore","slippagePractice","setSlippagePractice","handleClose","handleShow","connectMetamask","injectedConnector","supportedChainIds","connectWalletConnect","WalletConnect","rpcUrl","process","env","INFURA_KEY","bridge","qrcode","toFixed","_x","x","Math","floor","abs","e","parseInt","toString","split","pow","Array","join","substring","orderType","setOrderType","selectedToken","setSelectedToken","bnbPrice","long","setLong","ask","bid","priceBuy","setPriceBuy","priceSell","setPriceSell","amountBuy","setAmountBuy","amountSell","setAmountSell","totalSell","setTotalSell","totalBuy","setTotalBuy","timestamp","setTimestamp","balances","setBalances","base","quote","exactIn","setExactIn","disabled","setDisabled","limitContract","marketContract","resetAll","setAmountBuyCall","value","setPercentBuy","total","Number","info","setPercentSell","convertAmount","decimals","updateMarketData","console","log","assetIn","address","assetOut","decimalsIn","decimalsOut","path","amountIn","getBigNumber","_amountOut","getAmountsOut","amountOut","length","_amountIn","getAmountsIn","update","buy","updateBalance","contract","ethBalance","getBalance","tokenBalance","balanceOf","data","on","removeAllListeners","from","getDeadLine","bn","getBlockNumber","getBlock","sendMarketOrder","deadline","options","gasLimit","ai","ao","allowai","result","functions","allowance","lt","rt","approve","wait","estimateGas","myswapExactETHForTokens","swapExactTokensForETH","swapExactTokensForTokens","tx","undefined","sendLimitOrder","ordertype","efee","createOrder","onBuy","response","regist","fetch","getapiquery","onSell","side","inAmount","inAsset","apiquery","trid","hash","prefix","window","location","protocol","hostname","indexOf","tokenprice","currentTarget","target","display","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import { Modal } from \"react-bootstrap\";\r\nimport useSharedState from '../hook/useSharedState'\r\n\r\nimport React ,{useState,useEffect,useCallback,useMemo} from \"react\";\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Web3Provider } from '@ethersproject/providers'\r\nimport { InjectedConnector } from '@web3-react/injected-connector'\r\n\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\n\r\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\r\nimport { WETH,marketOrder,limitOrder,STAKEFEE,EXECUTOR_FEE,SLIPPAGE } from \"./const\";\r\nimport {ERC20_ABI} from \"../abi/ERC20\";\r\nimport {LIMIT_ABI} from \"../abi/LIMIT\";\r\nimport {MARKET_ABI} from \"../abi/MARKET\";\r\nimport {PAN_ABI} from \"../abi/PAN\";\r\n\r\nimport {getContract} from \"./contract\";\r\nimport {fixedLength} from \"./common\"\r\n\r\nconst workChainId = 56\r\n\r\nfunction Trading() {\r\n\r\n  const { chainId, account, activate, active,library } = useWeb3React()\r\n  const [show, setShow] = useState(false);\r\n  const [showMore, setShowMore] = useState(false);\r\n  const [slippagePractice,setSlippagePractice] = useState(SLIPPAGE);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => {\r\n    if(active==false){\r\n      setShow(true);\r\n    }\r\n  }\r\n  const connectMetamask = async()=>{\r\n    const injectedConnector = new InjectedConnector({supportedChainIds: [1,3,4,42,56,137],})\r\n    activate(injectedConnector)\r\n    handleClose();\r\n  }\r\n  const connectWalletConnect = async()=>{\r\n    const WalletConnect = new WalletConnectConnector({\r\n     rpcUrl: `https://mainnet.infura.io/v3/${process.env.INFURA_KEY}`,\r\n     bridge: \"https://bridge.walletconnect.org\",\r\n     qrcode: true,\r\n    });\r\n    activate(WalletConnect)\r\n    handleClose();\r\n  }\r\n  const toFixed = (_x)=> {\r\n    let x=Math.floor(_x)\r\n    if (Math.abs(x) < 1.0) {\r\n      var e = parseInt(x.toString().split('e-')[1]);\r\n      if (e) {\r\n          x *= Math.pow(10,e-1);\r\n          x = '0.' + (new Array(e)).join('0') + x.toString().substring(2);\r\n      }\r\n    } else {\r\n      var e = parseInt(x.toString().split('+')[1]);\r\n      if (e > 20) {\r\n          e -= 20;\r\n          x /= Math.pow(10,e);\r\n          x += (new Array(e+1)).join('0');\r\n      }\r\n    }\r\n    return x.toString();\r\n  }\r\n\r\n\r\n  const [orderType,setOrderType]=useState('market');\r\n  const {selectedToken,setSelectedToken,bnbPrice,long,setLong,ask,bid}=useSharedState();//useState(undefined);\r\n  const [priceBuy,setPriceBuy] = useState(0);\r\n  const [priceSell,setPriceSell] = useState(0);\r\n  const [amountBuy,setAmountBuy] = useState(0);\r\n  const [amountSell,setAmountSell] = useState(0);\r\n  const [totalSell,setTotalSell] = useState(0);\r\n  const [totalBuy,setTotalBuy] = useState(0);\r\n  const [timestamp,setTimestamp] = useState(0);\r\n  const [balances,setBalances] = useState({base:0,quote:0})\r\n  const [exactIn,setExactIn] = useState(false);\r\n  const [disabled,setDisabled] = useState(false);\r\n  const limitContract = getContract(limitOrder, LIMIT_ABI,library,account);\r\n  const marketContract = getContract(marketOrder, MARKET_ABI,library,account);\r\n  //const marketContract = getContract(\"0x10ED43C718714eb63d5aA57B78B54704E256024E\", PAN_ABI,library,account);\r\n  const resetAll = ()=>{\r\n      setAmountBuy(0);\r\n      setAmountSell(0);\r\n      setTotalBuy(0);\r\n      setTotalSell(0);\r\n\r\n  }\r\n  const setAmountBuyCall = (value)=>{\r\n    setAmountBuy(value);\r\n    setExactIn(false);\r\n  }\r\n\r\n  const setPercentBuy = (value)=>{\r\n    if(!selectedToken) return;\r\n    setExactIn(true);\r\n    if((orderType=='limit') || \r\n        orderType=='market'\r\n      ){\r\n        const total =balances.quote*value/(1+STAKEFEE+Number(slippagePractice)/100); \r\n        setTotalBuy(Number(fixedLength(selectedToken.info.quote!=\"BNB\"?total:total-EXECUTOR_FEE)));\r\n    }\r\n  }\r\n  const setPercentSell = (value)=>{\r\n    if(!selectedToken) return;\r\n    const total =balances.base*value/(1+STAKEFEE+Number(slippagePractice)/100); \r\n    setAmountSell(Number(fixedLength(selectedToken.info.base!=\"BNB\"?total:total-EXECUTOR_FEE)));\r\n  }\r\n\r\n  const convertAmount = (value,decimals)=>{\r\n    return value/Math.pow(10,decimals);\r\n  }\r\n  const updateMarketData = async()=>{\r\n    //buy\r\n    console.log('update market data');\r\n    let assetIn = selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address;\r\n    let assetOut = selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address;\r\n    let decimalsIn = selectedToken.info.quote==\"BNB\"?WETH.decimals:selectedToken.info.decimals;\r\n    let decimalsOut = selectedToken.info.base==\"BNB\"?WETH.decimals:selectedToken.info.decimals;\r\n    let path = [assetIn,assetOut];\r\n    if(exactIn){\r\n      if(totalBuy>0) {\r\n        const amountIn = getBigNumber((assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*totalBuy);\r\n        const _amountOut = await marketContract.getAmountsOut(amountIn, path);\r\n        const amountOut = _amountOut[_amountOut.length-1];\r\n        setAmountBuy(Number(fixedLength(convertAmount(Number(amountOut),decimalsOut))));\r\n      }\r\n    }else{\r\n      if(amountBuy>0) {\r\n        const amountOut = getBigNumber((assetOut==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*amountBuy);\r\n        const _amountIn = await marketContract.getAmountsIn(amountOut, path);\r\n        const amountIn = _amountIn[0];\r\n        setTotalBuy(Number(fixedLength(convertAmount(Number(amountIn),decimalsIn))));    \r\n      }\r\n    }\r\n    //sell\r\n\r\n    assetIn = selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address;;\r\n    assetOut = selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address;;\r\n    path = [assetIn,assetOut];\r\n    decimalsIn = selectedToken.info.base==\"BNB\"?WETH.decimals:selectedToken.info.decimals;\r\n    decimalsOut = selectedToken.info.quote==\"BNB\"?WETH.decimals:selectedToken.info.decimals;\r\n\r\n    if(amountSell==0) return;\r\n    const amountIn = getBigNumber((assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*amountSell);\r\n    const _amountOut = await marketContract.getAmountsOut(amountIn,path);\r\n    const amountOut = _amountOut[_amountOut.length-1];\r\n    setTotalSell(Number(fixedLength(convertAmount(Number(amountOut),decimalsOut))));\r\n  }\r\n\r\n  useEffect(()=>{\r\n    const update = async()=>{\r\n      if(orderType=='limit'){\r\n        if(Number(priceBuy)>0){\r\n          if(exactIn){\r\n            const buy =Number(fixedLength(Number(totalBuy)/Number(priceBuy))); \r\n            setAmountBuy(buy);\r\n          }else{\r\n            const total =Number(fixedLength(Number(amountBuy)*Number(priceBuy))); \r\n            setTotalBuy(total);\r\n          }\r\n        }\r\n      }else{\r\n        updateMarketData();\r\n      }\r\n    }\r\n    if(selectedToken && account) update();\r\n  },[selectedToken,account,priceBuy,amountBuy,totalBuy,orderType])\r\n\r\n  useEffect(()=>{\r\n    const update = async()=>{\r\n      if(orderType=='limit'){\r\n        if(Number(priceSell)>0){\r\n          const total =Number(fixedLength(Number(amountSell)*Number(priceSell))); \r\n          setTotalSell(total);\r\n        }\r\n      }else{\r\n        updateMarketData();\r\n      }\r\n    }\r\n    if(selectedToken && account) update();\r\n  },[selectedToken,account,priceSell,amountSell,orderType])\r\n\r\n  const updateBalance = async()=>{\r\n      const contract = getContract(selectedToken.address, ERC20_ABI,library,account);\r\n      let ethBalance = Number(await library.getBalance(account));\r\n      let tokenBalance = Number(await contract.balanceOf(account));\r\n      ethBalance = Number(fixedLength(ethBalance / Math.pow(10,WETH.decimals)));\r\n      tokenBalance=Number(fixedLength(tokenBalance / Math.pow(10,selectedToken.info.decimals)));\r\n      let data = {... balances};\r\n      data.base = selectedToken.info.base ==\"BNB\"?ethBalance:tokenBalance;\r\n      data.quote = selectedToken.info.quote ==\"BNB\"?ethBalance:tokenBalance;\r\n      setBalances(data);\r\n  }\r\n  useEffect(()=>{\r\n    const update = async()=>{\r\n      updateBalance();\r\n      if(orderType=='market') updateMarketData();\r\n      setAmountBuy(0);\r\n      setAmountSell(0);\r\n      setTotalBuy(0);\r\n      setTotalSell(0);\r\n\r\n    }\r\n    if(selectedToken && account) update();\r\n  },[selectedToken,account,timestamp]);\r\n\r\n  useEffect(() => {\r\n    library?.on('block', () => {\r\n      updateBalance();\r\n    })\r\n    return () => {\r\n      library?.removeAllListeners('block')\r\n    }\r\n  }, [library])\r\n\r\n  const getBigNumber=(value)=>{\r\n    return(BigNumber.from(toFixed(value)));\r\n  }\r\n  const getDeadLine = async()=>{\r\n    let timestamp =0;\r\n    if(library){\r\n      const bn = await library.getBlockNumber();\r\n      timestamp = (await library.getBlock(bn)).timestamp+3600*3;\r\n    }\r\n    return timestamp;\r\n  }\r\n  const sendMarketOrder=async(assetIn,assetOut,amountIn,amountOut)=>{\r\n    setDisabled(true);\r\n    console.log({assetIn,assetOut,amountIn,amountOut})\r\n\r\n    try{\r\n      let deadline =await getDeadLine();\r\n      const path = [assetIn,assetOut];\r\n      let options = {\r\n            gasLimit : 0,\r\n            value:getBigNumber(\r\n              (WETH.address==assetIn?(amountIn*(1+STAKEFEE)):0)\r\n              *Math.pow(10,WETH.decimals)\r\n              )\r\n      };        \r\n      const ai = getBigNumber((assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*amountIn)\r\n      const ao = getBigNumber((amountOut==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*(amountOut*(1-Number(slippagePractice)/100)));\r\n      if(WETH.address!=assetIn){\r\n        const allowai = getBigNumber(assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals)*(amountIn*(1+STAKEFEE)))\r\n        const contract = getContract(assetIn, ERC20_ABI,library,account);\r\n        const result = (await contract.functions.allowance(account,marketOrder))[0];\r\n        if(result.lt(allowai)){\r\n          const rt = await contract.approve(marketOrder, getBigNumber(Math.pow(2,255)));\r\n          await rt.wait();\r\n        }\r\n      }\r\n      console.log({\r\n        assetIn,\r\n        assetOut,\r\n        ai,\r\n        ao,\r\n        path,\r\n        options})\r\n      let gasLimit;\r\n      if(assetIn==WETH.address) {\r\n        console.log('1')\r\n        gasLimit = await marketContract.estimateGas.myswapExactETHForTokens(ai,ao,path,account,deadline,options);\r\n      }\r\n      if(assetOut==WETH.address) {\r\n        console.log('2')\r\n        gasLimit = await marketContract.estimateGas.swapExactTokensForETH(ai,ao,path,account,deadline,options);\r\n      }\r\n      if (assetIn!=WETH.address && assetOut!=WETH.address){\r\n        console.log('3')\r\n        gasLimit = await marketContract.estimateGas.swapExactTokensForTokens(ai,ao,path,account,deadline,options);\r\n      }\r\n      options.gasLimit = gasLimit;\r\n      let tx;\r\n      if(assetIn==WETH.address) {\r\n        tx = await marketContract.myswapExactETHForTokens(ai,ao,path,account,deadline,options);\r\n      }\r\n      if(assetOut==WETH.address) {\r\n        tx = await marketContract.swapExactTokensForETH(ai,ao,path,account,deadline,options);\r\n      }\r\n      if (assetIn!=WETH.address && assetOut!=WETH.address){\r\n        tx = await marketContract.swapExactTokensForTokens(ai,ao,path,account,deadline,options);\r\n      }\r\n      \r\n      setAmountBuy(0);\r\n      setAmountSell(0);\r\n      setTotalBuy(0);\r\n      setTotalSell(0);\r\n      setDisabled(false);\r\n      return(tx);\r\n    }catch(e){\r\n      setDisabled(false);\r\n      console.log(e)\r\n    }\r\n    return(undefined);\r\n\r\n  }\r\n\r\n  const sendLimitOrder=async(assetIn,assetOut,amountIn,amountOut)=>{\r\n    setDisabled(true);\r\n    console.log({assetIn,assetOut,amountIn,amountOut})\r\n\r\n    try{\r\n      const ordertype = assetIn==WETH.address?0:assetOut==WETH.address?1:2;\r\n      const path = [assetIn,assetOut];\r\n      let options = {\r\n            gasLimit : 0,\r\n            value:getBigNumber(\r\n              (WETH.address==assetIn?(amountIn*(1+STAKEFEE)+EXECUTOR_FEE):EXECUTOR_FEE)\r\n              *Math.pow(10,WETH.decimals)\r\n              )\r\n      };        \r\n      const ai = getBigNumber((assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*amountIn)\r\n      const ao = getBigNumber((amountOut==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals))*amountOut)\r\n      const efee = getBigNumber(EXECUTOR_FEE*Math.pow(10,WETH.decimals));\r\n      if(WETH.address!=assetIn){\r\n        const allowai = getBigNumber(assetIn==WETH.address?Math.pow(10,WETH.decimals):Math.pow(10,selectedToken.info.decimals)*(amountIn*(1+STAKEFEE)))\r\n        const contract = getContract(assetIn, ERC20_ABI,library,account);\r\n        const result = (await contract.functions.allowance(account,limitOrder))[0];\r\n        if(result.lt(allowai)){\r\n          console.log({allowai,result})\r\n          const rt = await contract.approve(limitOrder, getBigNumber(Math.pow(2,255)));\r\n          await rt.tx.wait();\r\n        }\r\n      }\r\n      console.log({ordertype,\r\n        assetIn,\r\n        assetOut,\r\n        ai,\r\n        ao,\r\n        path,\r\n        efee,\r\n        options})\r\n      const gasLimit = await limitContract.estimateGas.createOrder(ordertype,assetIn,assetOut,ai,ao,path,efee,options)\r\n      options.gasLimit = gasLimit;\r\n      const tx = await limitContract.createOrder(\r\n        ordertype,\r\n        assetIn,\r\n        assetOut,\r\n        ai,\r\n        ao,\r\n        path,\r\n        efee,\r\n        options);\r\n      setAmountBuy(0);\r\n      setAmountSell(0);\r\n      setTotalBuy(0);\r\n      setTotalSell(0);\r\n      setDisabled(false);\r\n      return(tx);\r\n    }catch(e){\r\n      setDisabled(false);\r\n      console.log(e)\r\n    }\r\n    return(undefined);\r\n\r\n  }\r\n\r\n  const onBuy = async()=>{\r\n    if(orderType=='limit'){\r\n      const response = await sendLimitOrder(\r\n        selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address,\r\n        selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address,\r\n        Number(totalBuy),\r\n        Number(amountBuy)\r\n      )      \r\n      if(response){\r\n        const regist = await fetch(getapiquery(response,'buy','limit',Number(totalBuy),selectedToken.info.quote));\r\n      }\r\n    }else{\r\n      const response = await sendMarketOrder(\r\n        selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address,\r\n        selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address,\r\n        Number(totalBuy),\r\n        Number(amountBuy)\r\n      )      \r\n      if(response){\r\n        const regist = await fetch(getapiquery(response,'buy','market',Number(totalBuy),selectedToken.info.quote));\r\n      }\r\n    }\r\n  }\r\n\r\n  const onSell = async()=>{\r\n    if(orderType=='limit'){\r\n      const response = await sendLimitOrder(\r\n        selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address,\r\n        selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address,\r\n        Number(amountSell),\r\n        Number(totalSell)\r\n      )    \r\n      if(response){\r\n        const regist = await fetch(getapiquery(response,'sell','limit',Number(amountSell),selectedToken.info.base));\r\n      }\r\n    }else{\r\n      const response = await sendMarketOrder(\r\n        selectedToken.info.base==\"BNB\"?WETH.address:selectedToken.address,\r\n        selectedToken.info.quote==\"BNB\"?WETH.address:selectedToken.address,\r\n        Number(amountSell),\r\n        Number(totalSell)\r\n      )    \r\n      if(response){\r\n        const regist = await fetch(getapiquery(response,'sell','market',Number(amountSell),selectedToken.info.base));\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  const getapiquery=(response,side,ordertype,inAmount,inAsset)=>{\r\n      let apiquery=\"\";\r\n      if(selectedToken){\r\n          const trid =response.hash;\r\n          const prefix = window.location.protocol+\"//\"+window.location.hostname;\r\n\r\n          apiquery = prefix+\"/api/createorder?chainid=56&owner=\"+account+\r\n               \"&pairs=\"+selectedToken.info.base+selectedToken.info.quote+\"&side=\"+side+\"&transactionid=\"+trid+\"&trstatus=pending&ordertype=\"+ordertype;\r\n          \r\n          apiquery = apiquery+\"&orderstatus=executed\";\r\n          apiquery = apiquery+\"&orderid=0&inAmount=\"+inAmount+\"&inAsset=\"+inAsset;\r\n          if(ordertype.indexOf(\"market\")>=0){\r\n              const tokenprice = (\r\n                    side=='buy'?Number(fixedLength(Number(totalBuy)/Number(amountBuy))):Number(fixedLength(Number(totalSell)/Number(amountSell)))\r\n                  );\r\n              apiquery = apiquery+\"&price=\"+tokenprice;\r\n          }else{\r\n              apiquery = apiquery+\"&price=\"+(\r\n                      side=='buy'?priceBuy:priceSell\r\n              );\r\n          }\r\n          apiquery = apiquery+\"&amount=\"+(\r\n                side=='buy'?amountBuy:amountSell\r\n          );   \r\n          console.log(apiquery);         \r\n      }\r\n  \r\n      return  apiquery;   \r\n  }  \r\n  return (\r\n     <div className=\"col-12 col-lg-4 bg-dark text-white\">\r\n      <div className=\"d-flex justify-content-between align-items-center mt-2 mb-2\">\r\n        <div role=\"button\" className={\"text-1 \"+(orderType=='limit'?\"text-warning\":\"text-muted\")} onClick={()=>{setOrderType('limit');resetAll()}}>Limit Order</div>\r\n        <div role=\"button\" className={\"text-1 \"+(orderType=='market'?\"text-warning\":\"text-muted\")} onClick={()=>{setOrderType('market');resetAll()}}>Market Order</div>\r\n        <div className=\"ps-2 pe-2\" id=\"buy-crypto\">\r\n          <img src=\"./assets/images/visa.svg\" alt=\"\" width={24} height={24} className=\"d-inline-block\" />\r\n          <img src=\"./assets/images/mastercard.svg\" alt=\"\" width={24} height={24} className=\"d-inline-block\" />\r\n          <span className=\"text-white smaller-text\">Buy Crypto</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">\r\n          {orderType=='limit' && \r\n          <>\r\n            <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n              <span>Price</span>\r\n              <a className=\"text-light\" role=\"button\" onClick={()=>setPriceBuy(ask)}>Best Ask</a>\r\n            </label>\r\n            <div className=\"input-group input-group-sm mb-1\">\r\n              <input type=\"number\" value={priceBuy} onChange={(e)=>setPriceBuy(e.currentTarget.value)} className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n              <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.quote}</span>\r\n            </div>\r\n          </>\r\n          }\r\n\r\n          <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n            <span>Amount</span>\r\n            <span>\r\n              <a className=\"text-light\" role=\"button\" style={{\"padding\":\"3px\"}} onClick={()=>setPercentBuy(0.25)}>25%</a>\r\n              <a className=\"text-light\" role=\"button\" style={{\"padding\":\"3px\"}} onClick={()=>setPercentBuy(0.5)}>50%</a>\r\n              <a className=\"text-light\" role=\"button\" style={{\"padding\":\"3px\"}} onClick={()=>setPercentBuy(0.75)}>75%</a>\r\n              <a className=\"text-light\" role=\"button\" style={{\"padding\":\"3px\"}} onClick={()=>setPercentBuy(1)}>100%</a>\r\n            </span>\r\n          </label>\r\n          <div className=\"input-group input-group-sm mb-1\">\r\n            <input type=\"number\" value={amountBuy} onChange={(e)=>{setAmountBuyCall(e.currentTarget.value);}}  className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n            <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.base}</span>\r\n          </div>\r\n          <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n            <span>Total</span>\r\n            <span>Avbl&nbsp;{balances.quote}{selectedToken?.info.quote}</span>\r\n\r\n          </label>\r\n          <div className=\"input-group input-group-sm mb-1\">\r\n            <input type=\"number\"  readOnly = {true} value={totalBuy} className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n            <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.quote}</span>\r\n          </div>\r\n          <div className=\"d-grid mt-3\">\r\n          {active==false &&\r\n            <button className=\"btn btn-buy btn-sm\" type=\"button\" onClick={handleShow}>Connect Wallet</button>\r\n          }\r\n          {active &&\r\n            <button className=\"btn btn-buy btn-sm\" type=\"button\" disabled={disabled || balances.quote<totalBuy} onClick={onBuy}>Buy {selectedToken?selectedToken.info.base:\"\"}</button>\r\n          }\r\n          </div>\r\n        </div>\r\n        <div className=\"col-6\">\r\n        {orderType=='limit' && \r\n          <>\r\n          <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n            <span>Price</span>\r\n            <a className=\"text-light\"  role=\"button\" onClick={()=>setPriceSell(bid)}>Best Bid</a>\r\n          </label>\r\n          <div className=\"input-group input-group-sm mb-1\">\r\n            <input type=\"number\" value={priceSell} onChange={(e)=>setPriceSell(e.currentTarget.value)}  className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n            <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.quote}</span>\r\n          </div>\r\n          </>\r\n         }\r\n          <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n            <span>Amount</span>\r\n            <span>\r\n              <a className=\"text-light\" role=\"button\" onClick={()=>setPercentSell(0.25)} style={{\"padding\":\"3px\"}}>25%</a>\r\n              <a className=\"text-light\" role=\"button\" onClick={()=>setPercentSell(0.5)} style={{\"padding\":\"3px\"}}>50%</a>\r\n              <a className=\"text-light\" role=\"button\" onClick={()=>setPercentSell(0.75)} style={{\"padding\":\"3px\"}}>75%</a>\r\n              <a className=\"text-light\" role=\"button\" onClick={()=>setPercentSell(1)}  style={{\"padding\":\"3px\"}}>100%</a>\r\n            </span>\r\n          </label>\r\n          <div className=\"input-group input-group-sm mb-1\">\r\n            <input type=\"number\" value={amountSell} onChange={(e)=>{setAmountSell(e.currentTarget.value);}} className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n            <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.base}</span>\r\n          </div>\r\n          <label htmlFor={\"basic-url\"} className=\"form-label mb-1 d-flex justify-content-between text-1 text-light\">\r\n            <span>Total</span>\r\n            <span>Avbl&nbsp;{balances.base}{selectedToken?.info.base}</span>\r\n          </label>\r\n          <div className=\"input-group input-group-sm mb-1\">\r\n            <input type=\"number\"  readOnly = {true} value={totalSell} className=\"form-control bg-secondary text-white border-0\" aria-label=\"Amount (to the nearest dollar)\" />\r\n            <span className=\"input-group-text bg-secondary text-light border-0\">{selectedToken?.info.quote}</span>\r\n          </div>\r\n          <div className=\"d-grid mt-3\">\r\n            {active==false &&\r\n            <button className=\"btn btn-sell btn-sm\" type=\"button\"  onClick={handleShow}>Connect Wallet </button>\r\n            }\r\n            {active &&\r\n            <button className=\"btn btn-sell btn-sm\" disabled={disabled || balances.base<amountSell} type=\"button\" onClick={onSell}>Sell {selectedToken?selectedToken.info.base:\"\"}</button>\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n        <div className=\"col-1  pt-2\">\r\n          <i class=\"bi bi-gear-fill\" role=\"button\"  onClick={()=>setShowMore(!showMore)}></i>\r\n         </div>\r\n         {showMore && \r\n           <>\r\n          <div className=\"col-11 \">\r\n            <div className=\"row text-1 \">\r\n              <div className=\"col-9 text-light  pt-2\">\r\n                <span>slip page</span>\r\n                <a className=\"text-light\" role=\"button\" onClick={()=>setSlippagePractice(0.1)} style={{\"padding\":\"3px\"}}>0.1%</a>\r\n                <a className=\"text-light\" role=\"button\" onClick={()=>setSlippagePractice(0.3)} style={{\"padding\":\"3px\"}}>0.3%</a>\r\n                <a className=\"text-light\" role=\"button\" onClick={()=>setSlippagePractice(0.75)} style={{\"padding\":\"3px\"}}>0.75%</a>\r\n                <a className=\"text-light\" role=\"button\" onClick={()=>setSlippagePractice(1)}  style={{\"padding\":\"3px\"}}>1%</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 \">\r\n            <div  className=\"row text-1 \">\r\n              <div className=\"col-6\">\r\n                <div className=\"input-group input-group-sm mb-1\">\r\n                  <input type=\"number\"  value={slippagePractice} className=\"form-control bg-secondary text-white border-0\" aria-label=\"slippage\" onChange={(e)=>setSlippagePractice(e.target.value)}/>\r\n                  <span className=\"input-group-text bg-secondary text-light border-0\">%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </>\r\n         }\r\n\r\n\r\n      </div>\r\n        <Modal show={show} onHide={handleClose} \r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n        >      \r\n        <Modal.Header closeButton \r\n          style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          }}>\r\n            <Modal.Title>\r\n            <h6 className=\"text-center flex-grow-1 text-white\" >Connect Wallet</h6>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"d-none d-xl-block d-flex align-items-center justify-content-between m-3 p-3 bg-secondary\" data-bs-dismiss=\"modal\"  >\r\n              <div role=\"button\" onClick={connectMetamask}>\r\n                <div>Metamask</div>\r\n                <div className=\"fs-6 text-muted\">\r\n                  Available as a browser extension and as a mobile app, MetaMask equips you with a key vault, secure login, token wallet, and token exchange.\r\n                </div>\r\n              </div>\r\n              <i className=\"bi bi-boxes text-warning fs-3\" />\r\n            </div>\r\n            <div role=\"button\" onClick={connectWalletConnect} className=\"d-flex align-items-center justify-content-between m-3 p-3 bg-secondary\">\r\n                <div>WalletConnect</div>\r\n                <i className=\"bi bi-water text-primary fs-3\"></i>\r\n            </div>\r\n\r\n            <div className=\"text-warning fs-6 p-3 text-end\">\r\n              Don't have a wallet? Click here.\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>      \r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Trading;\r\n"]},"metadata":{},"sourceType":"module"}